
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{Capstone-AdaReg}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \section{Prediction of United States' Counties Poverty
Rates}\label{prediction-of-united-states-counties-poverty-rates}

Mark Vervuurt 19-01-2018

\subsection{Executive Summary}\label{executive-summary}

This document presents the results of the regression analysis to predict
poverty rates of United States' Counties.

A regression model which uses an AdaBoostRegressor was created. This
AdaBoostRegressor is able to predict United States' Counties poverty
rates with an RMSE of 2.8506. The following features were key in
predicting poverty\_rates:

\begin{longtable}[]{@{}ll@{}}
\toprule
Model & RMSE\tabularnewline
\midrule
\endhead
AdaBoostRegressor & 2.8506\tabularnewline
Linear Regression & 2.9297\tabularnewline
\bottomrule
\end{longtable}

\begin{longtable}[]{@{}ll@{}}
\toprule
Key Features & Short Description\tabularnewline
\midrule
\endhead
area\_\_urban\_influence & todo\tabularnewline
econ\_\_economic\_typology & todo\tabularnewline
econ\_\_pct\_civilian\_labor & todo\tabularnewline
econ\_\_pct\_unemployment & todo\tabularnewline
econ\_\_pct\_uninsured\_adults & todo\tabularnewline
demo\_\_pct\_adults\_less\_than\_a\_high\_school\_diploma &
todo\tabularnewline
demo\_\_pct\_adults\_with\_high\_school\_diploma & todo\tabularnewline
demo\_\_pct\_adults\_with\_some\_college & todo\tabularnewline
demo\_\_pct\_adults\_bachelors\_or\_higher & todo\tabularnewline
health\_\_pct\_adult\_obesity & todo\tabularnewline
health\_\_pct\_adult\_smoking & todo\tabularnewline
health\_\_pct\_diabetes & todo\tabularnewline
health\_\_pct\_low\_birthweight & todo\tabularnewline
health\_\_pct\_excessive\_drinking & todo\tabularnewline
health\_\_pct\_physical\_inacticity & todo\tabularnewline
health\_\_homicides\_per\_100k & todo\tabularnewline
health\_\_motor\_vehicle\_crash\_deaths\_per\_100k & todo\tabularnewline
young\_age\_rucc\_cat & todo\tabularnewline
old\_age\_rucc\_cat & todo\tabularnewline
birth\_rate\_cat & todo\tabularnewline
death\_rate\_cat & todo\tabularnewline
hispanic\_cat & todo\tabularnewline
african\_cat & todo\tabularnewline
white\_cat & todo\tabularnewline
native\_cat & todo\tabularnewline
asian\_cat & todo\tabularnewline
h\_dentist\_cat & todo\tabularnewline
\bottomrule
\end{longtable}

The CRISP-DM Methodology was used in order to create an accurate
regression model:

\begin{itemize}
\tightlist
\item
  \textbf{Business Understanding}: read through the
  '\href{https://www.ers.usda.gov/topics/rural-economy-population/rural-poverty-well-being/poverty-overview.aspx}{Rural
  Poverty \& Well-being}' report to better understand the circumstances
  of poverty.
\item
  \textbf{Data Understanding}: explore the quantitative and categorical
  variables that play a key role in predicting poverty rates.
\item
  \textbf{Data Preparation}: drop unnecessary features, create better
  features, fill missing values, etc.
\item
  \textbf{Modeling}: create and select the best regression model.
\item
  \textbf{Evaluation}: evaluate the regression models using nested cross
  validation.
\item
  \textbf{Deployment}: the deployment of the regression model is not
  strictly applicable here. However presenting the results of the
  regression analysis with this report can be considered as the
  deployment step.
\end{itemize}

\subsection{Business Understanding}\label{business-understanding}

As described in the online report the
'\href{https://www.ers.usda.gov/topics/rural-economy-population/rural-poverty-well-being/poverty-overview.aspx}{Rural
Poverty \& Well-being}': "Concentrated poverty contributes to poor
housing and health conditions, higher crime and school dropout rates, as
well as employment dislocations". With this information we will try to
construct features around poor housing, health conditions, higher crime
and school drop out rates based on the data we have.

Another important feature of poverty is time. An area that doesn't have
a high level of poverty in two following years is likely better off than
an area that has a high level of poverty in both years. It will be hard
to construct a feature of this because we cannot compare the state's
poverty rate over year 'a' and 'b' with this data set. We dont have a
unique key to identify counties.

Counties are generally compared by their Non-Metro and Metro status.
There is more poverty in Non-Metro areas than Metro areas. Poverty is
also higher under certain ages and etnicities. Here also we will try to
construct features out of this information.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{k+kn}{import} \PY{n+nn}{re}
        \PY{k+kn}{import} \PY{n+nn}{bs4}
        \PY{k+kn}{import} \PY{n+nn}{time}
        \PY{k+kn}{import} \PY{n+nn}{plyfile}
        \PY{k+kn}{import} \PY{n+nn}{html5lib}
        \PY{k+kn}{import} \PY{n+nn}{multiprocessing}
        
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        
        \PY{k+kn}{from} \PY{n+nn}{scipy} \PY{k}{import} \PY{n}{misc}
        \PY{k+kn}{import} \PY{n+nn}{scipy}\PY{n+nn}{.}\PY{n+nn}{io}\PY{n+nn}{.}\PY{n+nn}{wavfile} \PY{k}{as} \PY{n+nn}{wavfile}
        
        \PY{k+kn}{import} \PY{n+nn}{scipy}
        \PY{k+kn}{from} \PY{n+nn}{math} \PY{k}{import} \PY{n}{sqrt}
        \PY{k+kn}{from} \PY{n+nn}{scipy} \PY{k}{import} \PY{n}{stats}
        \PY{k+kn}{from} \PY{n+nn}{pprint} \PY{k}{import} \PY{n}{pprint}
        \PY{k+kn}{from} \PY{n+nn}{sklearn} \PY{k}{import} \PY{n}{tree}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{svm} \PY{k}{import} \PY{n}{SVC}
        \PY{k+kn}{from} \PY{n+nn}{sklearn} \PY{k}{import} \PY{n}{manifold}
        \PY{k+kn}{from} \PY{n+nn}{tempfile} \PY{k}{import} \PY{n}{mkdtemp}
        \PY{k+kn}{from} \PY{n+nn}{matplotlib} \PY{k}{import} \PY{n}{cm} \PY{k}{as} \PY{n}{cm}
        
        
        \PY{k+kn}{import} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{as} \PY{n+nn}{metrics}
        \PY{k+kn}{from} \PY{n+nn}{pandas}\PY{n+nn}{.}\PY{n+nn}{plotting} \PY{k}{import} \PY{n}{scatter\PYZus{}matrix}
        \PY{k+kn}{from} \PY{n+nn}{scipy}\PY{n+nn}{.}\PY{n+nn}{stats} \PY{k}{import} \PY{n}{randint} \PY{k}{as} \PY{n}{sp\PYZus{}randint}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{pipeline} \PY{k}{import} \PY{n}{TransformerMixin}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics}\PY{n+nn}{.}\PY{n+nn}{scorer} \PY{k}{import} \PY{n}{make\PYZus{}scorer}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{pipeline} \PY{k}{import} \PY{n}{Pipeline}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{decomposition} \PY{k}{import} \PY{n}{PCA}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{datasets} \PY{k}{import} \PY{n}{load\PYZus{}iris}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{pipeline} \PY{k}{import} \PY{n}{make\PYZus{}pipeline}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{Binarizer}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{naive\PYZus{}bayes} \PY{k}{import} \PY{n}{MultinomialNB}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{tree} \PY{k}{import} \PY{n}{DecisionTreeRegressor}\PY{p}{,} \PY{n}{DecisionTreeClassifier}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{neighbors} \PY{k}{import} \PY{n}{KNeighborsClassifier}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{feature\PYZus{}selection} \PY{k}{import} \PY{n}{RFECV}\PY{p}{,} \PY{n}{SelectFromModel}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{ensemble} \PY{k}{import} \PY{n}{RandomForestClassifier}\PY{p}{,} \PY{n}{AdaBoostRegressor}\PY{p}{,} \PY{n}{AdaBoostClassifier}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{dummy} \PY{k}{import} \PY{n}{DummyClassifier}\PY{p}{,} \PY{n}{DummyRegressor}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{cluster} \PY{k}{import} \PY{n}{AgglomerativeClustering}\PY{p}{,} \PY{n}{KMeans}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{feature\PYZus{}extraction}\PY{n+nn}{.}\PY{n+nn}{text} \PY{k}{import} \PY{n}{CountVectorizer}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{linear\PYZus{}model} \PY{k}{import} \PY{n}{LinearRegression}\PY{p}{,} \PY{n}{LassoCV}\PY{p}{,} \PY{n}{RidgeCV}\PY{p}{,} \PY{n}{Lasso}\PY{p}{,} \PY{n}{Ridge}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{MaxAbsScaler}\PY{p}{,} \PY{n}{MinMaxScaler}\PY{p}{,} \PY{n}{Normalizer}\PY{p}{,} \PY{n}{RobustScaler}\PY{p}{,} \PY{n}{StandardScaler}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{recall\PYZus{}score}\PY{p}{,} \PY{n}{accuracy\PYZus{}score}\PY{p}{,} \PY{n}{confusion\PYZus{}matrix}\PY{p}{,} \PY{n}{roc\PYZus{}curve}\PY{p}{,} \PY{n}{roc\PYZus{}auc\PYZus{}score}\PY{p}{,} \PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{,} \PY{n}{accuracy\PYZus{}score}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{,} \PY{n}{GridSearchCV}\PY{p}{,} \PY{n}{RandomizedSearchCV}\PY{p}{,} \PY{n}{cross\PYZus{}val\PYZus{}score}\PY{p}{,} \PY{n}{cross\PYZus{}validate}\PY{p}{,} \PY{n}{cross\PYZus{}val\PYZus{}predict}\PY{p}{,} \PY{n}{KFold}\PY{p}{,} \PY{n}{ShuffleSplit}\PY{p}{,} \PY{n}{StratifiedShuffleSplit}
        
        \PY{k+kn}{import} \PY{n+nn}{matplotlib}
        \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{from} \PY{n+nn}{matplotlib} \PY{k}{import} \PY{n}{cm} \PY{k}{as} \PY{n}{cm}
        \PY{k+kn}{from} \PY{n+nn}{mpl\PYZus{}toolkits}\PY{n+nn}{.}\PY{n+nn}{mplot3d} \PY{k}{import} \PY{n}{Axes3D}
        \PY{k+kn}{from} \PY{n+nn}{pandas}\PY{n+nn}{.}\PY{n+nn}{plotting} \PY{k}{import} \PY{n}{parallel\PYZus{}coordinates}\PY{p}{,} \PY{n}{andrews\PYZus{}curves}
        
        \PY{o}{\PYZpc{}}\PY{k}{matplotlib} inline
        \PY{n}{matplotlib}\PY{o}{.}\PY{n}{style}\PY{o}{.}\PY{n}{use}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ggplot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{n}{pd}\PY{o}{.}\PY{n}{set\PYZus{}option}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display.max\PYZus{}columns}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{k+kc}{None}\PY{p}{)}
\end{Verbatim}


    \subsection{Data Understanding}\label{data-understanding}

In order to build this regression model and determine its most
significant features a thorough data exploration was done to understand
the relationship between poverty rates and other features. \#\#\#
Initial Data Exploration The dataset consists of 3198 records about
United States' counties. Each record contains socioeconomic indicators
about a United States' county for a given year. Besides the 'row\_id',
'yr' and the target value 'poverty\_rate', the dataset contains 31
features about socioeconomic indicators.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n}{poverty\PYZus{}train} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{./Microsoft\PYZus{}\PYZhy{}\PYZus{}DAT102x\PYZus{}Predicting\PYZus{}Poverty\PYZus{}in\PYZus{}the\PYZus{}United\PYZus{}States\PYZus{}\PYZhy{}\PYZus{}Training\PYZus{}values.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{poverty\PYZus{}train}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}7}]:} (3198, 34)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{poverty\PYZus{}train}\PY{o}{.}\PY{n}{dtypes}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}8}]:} row\_id                                                int64
        area\_\_rucc                                           object
        area\_\_urban\_influence                                object
        econ\_\_economic\_typology                              object
        econ\_\_pct\_civilian\_labor                            float64
        econ\_\_pct\_unemployment                              float64
        econ\_\_pct\_uninsured\_adults                          float64
        econ\_\_pct\_uninsured\_children                        float64
        demo\_\_pct\_female                                    float64
        demo\_\_pct\_below\_18\_years\_of\_age                     float64
        demo\_\_pct\_aged\_65\_years\_and\_older                   float64
        demo\_\_pct\_hispanic                                  float64
        demo\_\_pct\_non\_hispanic\_african\_american             float64
        demo\_\_pct\_non\_hispanic\_white                        float64
        demo\_\_pct\_american\_indian\_or\_alaskan\_native         float64
        demo\_\_pct\_asian                                     float64
        demo\_\_pct\_adults\_less\_than\_a\_high\_school\_diploma    float64
        demo\_\_pct\_adults\_with\_high\_school\_diploma           float64
        demo\_\_pct\_adults\_with\_some\_college                  float64
        demo\_\_pct\_adults\_bachelors\_or\_higher                float64
        demo\_\_birth\_rate\_per\_1k                             float64
        demo\_\_death\_rate\_per\_1k                             float64
        health\_\_pct\_adult\_obesity                           float64
        health\_\_pct\_adult\_smoking                           float64
        health\_\_pct\_diabetes                                float64
        health\_\_pct\_low\_birthweight                         float64
        health\_\_pct\_excessive\_drinking                      float64
        health\_\_pct\_physical\_inacticity                     float64
        health\_\_air\_pollution\_particulate\_matter            float64
        health\_\_homicides\_per\_100k                          float64
        health\_\_motor\_vehicle\_crash\_deaths\_per\_100k         float64
        health\_\_pop\_per\_dentist                             float64
        health\_\_pop\_per\_primary\_care\_physician              float64
        yr                                                   object
        dtype: object
\end{Verbatim}
            
    \paragraph{Individual Feature
Statistics}\label{individual-feature-statistics}

Here are the summary statistics for all the socioeconomic features: -
summary statistics of categorical variables: the total count (count),
number of unique elements (unique), most frequent element (top) and the
frequency of the most frequent element (frequent) - summary statistics
of quantitative variables: the mean, the standard deviation (std), the
minimum value (min), 25\% percentile, 50\% percentile (median), 75\%
percentile and the maximum value (max).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}28}]:} \PY{n}{poverty\PYZus{}train}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{row\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{n}{include}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{all}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}28}]:}                                                area\_\_rucc  \textbackslash{}
         count                                                3198   
         unique                                                  9   
         top     Nonmetro - Urban population of 2,500 to 19,999{\ldots}   
         freq                                                  608   
         mean                                                  NaN   
         std                                                   NaN   
         min                                                   NaN   
         25\%                                                   NaN   
         50\%                                                   NaN   
         75\%                                                   NaN   
         max                                                   NaN   
         
                                             area\_\_urban\_influence  \textbackslash{}
         count                                                3198   
         unique                                                 12   
         top     Small-in a metro area with fewer than 1 millio{\ldots}   
         freq                                                  692   
         mean                                                  NaN   
         std                                                   NaN   
         min                                                   NaN   
         25\%                                                   NaN   
         50\%                                                   NaN   
         75\%                                                   NaN   
         max                                                   NaN   
         
                econ\_\_economic\_typology  econ\_\_pct\_civilian\_labor  \textbackslash{}
         count                     3198               3198.000000   
         unique                       6                       NaN   
         top             Nonspecialized                       NaN   
         freq                      1266                       NaN   
         mean                       NaN                  0.467071   
         std                        NaN                  0.074541   
         min                        NaN                  0.217000   
         25\%                        NaN                  0.420000   
         50\%                        NaN                  0.467000   
         75\%                        NaN                  0.514000   
         max                        NaN                  1.000000   
         
                 econ\_\_pct\_unemployment  econ\_\_pct\_uninsured\_adults  \textbackslash{}
         count               3198.00000                 3196.000000   
         unique                     NaN                         NaN   
         top                        NaN                         NaN   
         freq                       NaN                         NaN   
         mean                   0.05961                    0.217534   
         std                    0.02285                    0.067372   
         min                    0.00800                    0.046000   
         25\%                    0.04400                    0.166000   
         50\%                    0.05700                    0.216000   
         75\%                    0.07100                    0.262000   
         max                    0.24000                    0.495000   
         
                 econ\_\_pct\_uninsured\_children  demo\_\_pct\_female  \textbackslash{}
         count                    3196.000000       3196.000000   
         unique                           NaN               NaN   
         top                              NaN               NaN   
         freq                             NaN               NaN   
         mean                        0.085920          0.498781   
         std                         0.040005          0.024251   
         min                         0.009000          0.294000   
         25\%                         0.057000          0.493000   
         50\%                         0.077000          0.503000   
         75\%                         0.105000          0.512000   
         max                         0.285000          0.576000   
         
                 demo\_\_pct\_below\_18\_years\_of\_age  demo\_\_pct\_aged\_65\_years\_and\_older  \textbackslash{}
         count                       3196.000000                        3196.000000   
         unique                              NaN                                NaN   
         top                                 NaN                                NaN   
         freq                                NaN                                NaN   
         mean                           0.227763                           0.170137   
         std                            0.034291                           0.043594   
         min                            0.098000                           0.043000   
         25\%                            0.207000                           0.142000   
         50\%                            0.226000                           0.167000   
         75\%                            0.245250                           0.194000   
         max                            0.417000                           0.355000   
         
                 demo\_\_pct\_hispanic  demo\_\_pct\_non\_hispanic\_african\_american  \textbackslash{}
         count          3196.000000                              3196.000000   
         unique                 NaN                                      NaN   
         top                    NaN                                      NaN   
         freq                   NaN                                      NaN   
         mean              0.090233                                 0.091117   
         std               0.142707                                 0.147104   
         min               0.000000                                 0.000000   
         25\%               0.019000                                 0.006000   
         50\%               0.035000                                 0.022000   
         75\%               0.088000                                 0.096250   
         max               0.945000                                 0.855000   
         
                 demo\_\_pct\_non\_hispanic\_white  \textbackslash{}
         count                    3196.000000   
         unique                           NaN   
         top                              NaN   
         freq                             NaN   
         mean                        0.770207   
         std                         0.207903   
         min                         0.060000   
         25\%                         0.648000   
         50\%                         0.854000   
         75\%                         0.936000   
         max                         0.998000   
         
                 demo\_\_pct\_american\_indian\_or\_alaskan\_native  demo\_\_pct\_asian  \textbackslash{}
         count                                   3196.000000      3196.000000   
         unique                                          NaN              NaN   
         top                                             NaN              NaN   
         freq                                            NaN              NaN   
         mean                                       0.024659         0.013304   
         std                                        0.084634         0.025366   
         min                                        0.000000         0.000000   
         25\%                                        0.002000         0.003000   
         50\%                                        0.007000         0.007000   
         75\%                                        0.014000         0.013000   
         max                                        0.852000         0.346000   
         
                 demo\_\_pct\_adults\_less\_than\_a\_high\_school\_diploma  \textbackslash{}
         count                                        3198.000000   
         unique                                               NaN   
         top                                                  NaN   
         freq                                                 NaN   
         mean                                            0.148794   
         std                                             0.068255   
         min                                             0.016129   
         25\%                                             0.097468   
         50\%                                             0.133501   
         75\%                                             0.195171   
         max                                             0.466867   
         
                 demo\_\_pct\_adults\_with\_high\_school\_diploma  \textbackslash{}
         count                                 3198.000000   
         unique                                        NaN   
         top                                           NaN   
         freq                                          NaN   
         mean                                     0.350300   
         std                                      0.070534   
         min                                      0.072821   
         25\%                                      0.305915   
         50\%                                      0.355701   
         75\%                                      0.399197   
         max                                      0.551689   
         
                 demo\_\_pct\_adults\_with\_some\_college  \textbackslash{}
         count                          3198.000000   
         unique                                 NaN   
         top                                    NaN   
         freq                                   NaN   
         mean                              0.301366   
         std                               0.052498   
         min                               0.112821   
         25\%                               0.265362   
         50\%                               0.301595   
         75\%                               0.335972   
         max                               0.474216   
         
                 demo\_\_pct\_adults\_bachelors\_or\_higher  demo\_\_birth\_rate\_per\_1k  \textbackslash{}
         count                            3198.000000              3198.000000   
         unique                                   NaN                      NaN   
         top                                      NaN                      NaN   
         freq                                     NaN                      NaN   
         mean                                0.199540                11.676986   
         std                                 0.089158                 2.739516   
         min                                 0.013986                 4.000000   
         25\%                                 0.138840                10.000000   
         50\%                                 0.177247                11.000000   
         75\%                                 0.233258                13.000000   
         max                                 0.794872                29.000000   
         
                 demo\_\_death\_rate\_per\_1k  health\_\_pct\_adult\_obesity  \textbackslash{}
         count               3198.000000                3196.000000   
         unique                      NaN                        NaN   
         top                         NaN                        NaN   
         freq                        NaN                        NaN   
         mean                  10.301126                   0.307599   
         std                    2.786143                   0.043404   
         min                    0.000000                   0.140000   
         25\%                    8.000000                   0.284000   
         50\%                   10.000000                   0.309000   
         75\%                   12.000000                   0.334000   
         max                   27.000000                   0.484000   
         
                 health\_\_pct\_adult\_smoking  health\_\_pct\_diabetes  \textbackslash{}
         count                 2734.000000           3196.000000   
         unique                        NaN                   NaN   
         top                           NaN                   NaN   
         freq                          NaN                   NaN   
         mean                     0.213519              0.109287   
         std                      0.063090              0.023197   
         min                      0.050000              0.033000   
         25\%                      0.171000              0.094000   
         50\%                      0.211000              0.109000   
         75\%                      0.249750              0.124000   
         max                      0.526000              0.197000   
         
                 health\_\_pct\_low\_birthweight  health\_\_pct\_excessive\_drinking  \textbackslash{}
         count                   3016.000000                     2220.000000   
         unique                          NaN                             NaN   
         top                             NaN                             NaN   
         freq                            NaN                             NaN   
         mean                       0.083534                        0.164832   
         std                        0.022382                        0.050232   
         min                        0.025000                        0.038000   
         25\%                        0.068000                        0.129000   
         50\%                        0.080000                        0.164000   
         75\%                        0.095000                        0.196000   
         max                        0.232000                        0.358000   
         
                 health\_\_pct\_physical\_inacticity  \textbackslash{}
         count                       3196.000000   
         unique                              NaN   
         top                                 NaN   
         freq                                NaN   
         mean                           0.277309   
         std                            0.052947   
         min                            0.097000   
         25\%                            0.243000   
         50\%                            0.280000   
         75\%                            0.313000   
         max                            0.443000   
         
                 health\_\_air\_pollution\_particulate\_matter  health\_\_homicides\_per\_100k  \textbackslash{}
         count                                3170.000000                 1231.000000   
         unique                                       NaN                         NaN   
         top                                          NaN                         NaN   
         freq                                         NaN                         NaN   
         mean                                   11.626498                    5.950747   
         std                                     1.544928                    5.063374   
         min                                     7.000000                   -0.390000   
         25\%                                    10.000000                    2.660000   
         50\%                                    12.000000                    4.840000   
         75\%                                    13.000000                    7.825000   
         max                                    15.000000                   51.490000   
         
                 health\_\_motor\_vehicle\_crash\_deaths\_per\_100k  health\_\_pop\_per\_dentist  \textbackslash{}
         count                                   2781.000000              2954.000000   
         unique                                          NaN                      NaN   
         top                                             NaN                      NaN   
         freq                                            NaN                      NaN   
         mean                                      21.116077              3431.442789   
         std                                       10.516984              2569.444414   
         min                                        3.090000               339.000000   
         25\%                                       13.460000              1812.250000   
         50\%                                       19.630000              2690.000000   
         75\%                                       26.470000              4089.750000   
         max                                      110.450000             28129.000000   
         
                 health\_\_pop\_per\_primary\_care\_physician    yr  
         count                              2968.000000  3198  
         unique                                     NaN     2  
         top                                        NaN     a  
         freq                                       NaN  1599  
         mean                               2551.349730   NaN  
         std                                2100.475931   NaN  
         min                                 189.000000   NaN  
         25\%                                1419.000000   NaN  
         50\%                                1999.000000   NaN  
         75\%                                2859.000000   NaN  
         max                               23400.000000   NaN  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}29}]:} \PY{n}{poverty\PYZus{}labels} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Microsoft\PYZus{}\PYZhy{}\PYZus{}DAT102x\PYZus{}Predicting\PYZus{}Poverty\PYZus{}in\PYZus{}the\PYZus{}United\PYZus{}States\PYZus{}\PYZhy{}\PYZus{}Training\PYZus{}labels.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}30}]:} \PY{n}{poverty\PYZus{}labels}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}30}]:} (3198, 2)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}31}]:} \PY{n}{poverty\PYZus{}labels}\PY{o}{.}\PY{n}{dtypes}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}31}]:} row\_id            int64
         poverty\_rate    float64
         dtype: object
\end{Verbatim}
            
    Here are the summary statistics for the target variable which is
quantitative:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}32}]:} \PY{n}{poverty\PYZus{}labels}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{row\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}32}]:}        poverty\_rate
         count   3198.000000
         mean      16.817136
         std        6.697969
         min        2.500000
         25\%       12.000000
         50\%       15.800000
         75\%       20.300000
         max       47.400000
\end{Verbatim}
            
    Poverty rates are right or positively skewed with skew value of
1.048357. We can recognize a slight bell curve in the data. The mean and
median are relatively close to each other and the standard deviation is
relatively low which indicates low variability in the poverty rates.
Most United States' counties have a poverty\_rate between 10\% and 20\%.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}40}]:} \PY{n}{poverty\PYZus{}labels}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{row\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{skew}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}40}]:} poverty\_rate    1.048357
         dtype: float64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}41}]:} \PY{n}{ht\PYZus{}pov} \PY{o}{=} \PY{n}{poverty\PYZus{}labels}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_15_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}38}]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{poverty\PYZus{}train}\PY{p}{,} \PY{n}{poverty\PYZus{}labels}\PY{p}{,} \PY{n}{on}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{row\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{poverty}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}38}]:} (3198, 35)
\end{Verbatim}
            
    \subsubsection{Data Exploration and Visualization of Categorical
Variables}\label{data-exploration-and-visualization-of-categorical-variables}

Here we explore the prediction value of the categorical variables
'econ\_\_economic\_typology', 'area\_\_urban\_influence', 'area\_\_rucc'
and 'yr'. We use mostly boxplots and one way analysis of variance
(ANOVA).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bpd\PYZus{}eet} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{econ\PYZus{}\PYZus{}economic\PYZus{}typology}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{return\PYZus{}type}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dict}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    There are alot more 'Nonspecialised' eets!

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{hb\PYZus{}eet} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{econ\PYZus{}\PYZus{}economic\PYZus{}typology}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{15}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bpd\PYZus{}aui} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{area\PYZus{}\PYZus{}urban\PYZus{}influence}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{return\PYZus{}type}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dict}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{hb\PYZus{}rucc} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}urban\PYZus{}influence}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{horizontal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{15}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bpd\PYZus{}rucc} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{area\PYZus{}\PYZus{}rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{return\PYZus{}type}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dict}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{hb\PYZus{}area\PYZus{}rucc} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}rucc}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{horizontal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{15}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}floats} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{poverty}\PY{o}{.}\PY{n}{dtypes} \PY{o}{==} \PY{n}{np}\PY{o}{.}\PY{n}{float}\PY{p}{]}
        \PY{n}{poverty\PYZus{}floats} \PY{o}{=} \PY{n}{poverty\PYZus{}floats}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}motor\PYZus{}vehicle\PYZus{}crash\PYZus{}deaths\PYZus{}per\PYZus{}100k}\PY{l+s+s1}{\PYZsq{}}
                                                     \PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k}\PY{l+s+s1}{\PYZsq{}}
                                                     \PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}homicides\PYZus{}per\PYZus{}100k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{bpd\PYZus{}povfl} \PY{o}{=} \PY{n}{poverty\PYZus{}floats}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{25}\PY{p}{,}\PY{l+m+mi}{25}\PY{p}{)}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bpd\PYZus{}povr} \PY{o}{=} \PY{n}{poverty}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bpd\PYZus{}hpppcp} \PY{o}{=} \PY{n}{poverty}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bpd\PYZus{}ppd} \PY{o}{=} \PY{n}{poverty}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bpd\PYZus{}hmvcdp} \PY{o}{=} \PY{n}{poverty}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}motor\PYZus{}vehicle\PYZus{}crash\PYZus{}deaths\PYZus{}per\PYZus{}100k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bdp\PYZus{}happm} \PY{o}{=} \PY{n}{poverty}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bpd\PYZus{}ddrp} \PY{o}{=} \PY{n}{poverty}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bpd\PYZus{}dbrp} \PY{o}{=} \PY{n}{poverty}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bdp\PYZus{}hhp} \PY{o}{=} \PY{n}{poverty}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}homicides\PYZus{}per\PYZus{}100k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{hist\PYZus{}pov} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{35}\PY{p}{,}\PY{l+m+mi}{35}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    We will create features around age and area\_rucc.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{old\PYZus{}counties} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}aged\PYZus{}65\PYZus{}years\PYZus{}and\PYZus{}older} \PY{o}{\PYZgt{}} \PY{l+m+mf}{0.167000}
        \PY{n}{old\PYZus{}poor} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{old\PYZus{}counties}\PY{p}{,}\PY{p}{:}\PY{p}{]}
        \PY{n}{bpd\PYZus{}old} \PY{o}{=} \PY{n}{old\PYZus{}poor}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{area\PYZus{}\PYZus{}rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{return\PYZus{}type}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dict}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{young\PYZus{}counties} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}aged\PYZus{}65\PYZus{}years\PYZus{}and\PYZus{}older} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.167000}
        \PY{n}{young\PYZus{}poor} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{young\PYZus{}counties}\PY{p}{,}\PY{p}{:}\PY{p}{]}
        \PY{n}{bpd\PYZus{}young} \PY{o}{=} \PY{n}{young\PYZus{}poor}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{area\PYZus{}\PYZus{}rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{return\PYZus{}type}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dict}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    The difference in poverty over year 'a' and 'b' is really minimal.
Furthermore it doesn't make sense to use this feature to predict
poverty, if we want to create a model that generalizes over the years.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bpd\PYZus{}yr} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    The categorical variable 'yr' does not hold any value to differentiate
poverty rates. We will therefore drop it at the cleaning stage.

    \subsubsection{Data Exploration and Visualization of Quantitative
Variables}\label{data-exploration-and-visualization-of-quantitative-variables}

We make several scatter plot matrics to visually explore the
relationship between the quantitative variables and poverty\_rate.
Furthermore we look at the correlation matrix, to quantitavely visualize
the correlation coefficients.

    \paragraph{Correlation matrix}\label{correlation-matrix}

Compute the correlation matrix. Identify features with highest positive
and negative pearson correlation coefficient.

The features that correlate most positevely with poverty\_rate
(\textgreater{} 0.5): * demo\_\_pct\_non\_hispanic\_african\_american
0.507048 * health\_\_pct\_diabetes 0.537038 *
econ\_\_pct\_uninsured\_adults 0.541712 *
health\_\_pct\_low\_birthweight 0.565456 * econ\_\_pct\_unemployment
0.592022 * health\_\_homicides\_per\_100k 0.621399 *
demo\_\_pct\_adults\_less\_than\_a\_high\_school\_diploma 0.680360

The features that correlate most negatively with poverty\_rate
(\textless{} - 0.5): * econ\_\_pct\_civilian\_labor -0.670417

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{corr\PYZus{}m} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)}
        \PY{n}{corr\PYZus{}m}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{plt\PYZus{}corr} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{imshow}\PY{p}{(}\PY{n}{poverty}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{cmap}\PY{o}{=}\PY{n}{plt}\PY{o}{.}\PY{n}{cm}\PY{o}{.}\PY{n}{coolwarm}\PY{p}{,} \PY{n}{interpolation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nearest}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt\PYZus{}corr} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{colorbar}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \paragraph{Scatter plot matrices}\label{scatter-plot-matrices}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{scatter\PYZus{}educ} \PY{o}{=} \PY{n}{scatter\PYZus{}matrix}\PY{p}{(}\PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}adults\PYZus{}less\PYZus{}than\PYZus{}a\PYZus{}high\PYZus{}school\PYZus{}diploma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}adults\PYZus{}with\PYZus{}high\PYZus{}school\PYZus{}diploma}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}adults\PYZus{}with\PYZus{}some\PYZus{}college}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}adults\PYZus{}bachelors\PYZus{}or\PYZus{}higher}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{27}\PY{p}{,} \PY{l+m+mi}{27}\PY{p}{)}\PY{p}{,} \PY{n}{diagonal}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{scatter\PYZus{}health1} \PY{o}{=} \PY{n}{scatter\PYZus{}matrix}\PY{p}{(}\PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pct\PYZus{}adult\PYZus{}obesity}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pct\PYZus{}adult\PYZus{}smoking}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pct\PYZus{}diabetes}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pct\PYZus{}low\PYZus{}birthweight}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pct\PYZus{}excessive\PYZus{}drinking}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pct\PYZus{}physical\PYZus{}inacticity}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{27}\PY{p}{,} \PY{l+m+mi}{27}\PY{p}{)}\PY{p}{,} \PY{n}{diagonal}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{scatter\PYZus{}health2} \PY{o}{=} \PY{n}{scatter\PYZus{}matrix}\PY{p}{(}\PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}homicides\PYZus{}per\PYZus{}100k}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}motor\PYZus{}vehicle\PYZus{}crash\PYZus{}deaths\PYZus{}per\PYZus{}100k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{27}\PY{p}{,} \PY{l+m+mi}{27}\PY{p}{)}\PY{p}{,} \PY{n}{diagonal}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{scatter\PYZus{}econ} \PY{o}{=} \PY{n}{scatter\PYZus{}matrix}\PY{p}{(}\PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{econ\PYZus{}\PYZus{}pct\PYZus{}civilian\PYZus{}labor}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{econ\PYZus{}\PYZus{}pct\PYZus{}unemployment}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{econ\PYZus{}\PYZus{}pct\PYZus{}uninsured\PYZus{}adults}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{econ\PYZus{}\PYZus{}pct\PYZus{}uninsured\PYZus{}children}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{27}\PY{p}{,} \PY{l+m+mi}{27}\PY{p}{)}\PY{p}{,} \PY{n}{diagonal}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{scatter\PYZus{}ethnic} \PY{o}{=} \PY{n}{scatter\PYZus{}matrix}\PY{p}{(}\PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}hispanic}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}african\PYZus{}american}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}white}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}american\PYZus{}indian\PYZus{}or\PYZus{}alaskan\PYZus{}native}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}asian}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{27}\PY{p}{,} \PY{l+m+mi}{27}\PY{p}{)}\PY{p}{,} \PY{n}{diagonal}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    These non linear features behave like categorical features.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{scatter\PYZus{}non\PYZus{}ln} \PY{o}{=} \PY{n}{scatter\PYZus{}matrix}\PY{p}{(}\PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}female}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{27}\PY{p}{,} \PY{l+m+mi}{27}\PY{p}{)}\PY{p}{,} \PY{n}{diagonal}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} \PYZsq{}demo\PYZus{}\PYZus{}pct\PYZus{}female\PYZsq{}}
        \PY{n}{scatter\PYZus{}non\PYZus{}ln} \PY{o}{=} \PY{n}{scatter\PYZus{}matrix}\PY{p}{(}\PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}female}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{27}\PY{p}{,} \PY{l+m+mi}{27}\PY{p}{)}\PY{p}{,} \PY{n}{diagonal}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    Treat non linear features as categorical

    \subsubsection{Creation and Visualization of New Categorical
Variables}\label{creation-and-visualization-of-new-categorical-variables}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}rucc}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nonmetro \PYZhy{} Completely rural or less than 2,500 urban population, adjacent to a metro area}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NonMetro}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nonmetro \PYZhy{} Urban population of 2,500 to 19,999, adjacent to a metro area}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NonMetro}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nonmetro \PYZhy{} Completely rural or less than 2,500 urban population, not adjacent to a metro area}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NonMetro}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nonmetro \PYZhy{} Urban population of 2,500 to 19,999, not adjacent to a metro area}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NonMetro}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Metro \PYZhy{} Counties in metro areas of 1 million population or more}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Metro}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Metro \PYZhy{} Counties in metro areas of 250,000 to 1 million population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Metro}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nonmetro \PYZhy{} Urban population of 20,000 or more, adjacent to a metro area}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NonMetro}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Nonmetro \PYZhy{} Urban population of 20,000 or more, not adjacent to a metro area}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NonMetro}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Metro \PYZhy{} Counties in metro areas of fewer than 250,000 population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Metro}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{rucc\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NonMetro}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Metro}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{rucc}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{rucc}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{rucc\PYZus{}cats}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}rucc}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}n\PYZus{}rucc} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    The categorical variable age does not hold any value by itself.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}young\PYZus{}age\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{low\PYZus{}pct\PYZus{}youngs} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}below\PYZus{}18\PYZus{}years\PYZus{}of\PYZus{}age} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.175}
            \PY{n}{medium\PYZus{}pct\PYZus{}youngs} \PY{o}{=} \PY{p}{(}\PY{n}{poverty}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}below\PYZus{}18\PYZus{}years\PYZus{}of\PYZus{}age} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.175}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{poverty}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}below\PYZus{}18\PYZus{}years\PYZus{}of\PYZus{}age} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{l+m+mf}{0.3}\PY{p}{)}
            \PY{n}{high\PYZus{}pct\PYZus{}youngs} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}below\PYZus{}18\PYZus{}years\PYZus{}of\PYZus{}age} \PY{o}{\PYZgt{}} \PY{l+m+mf}{0.3}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{low\PYZus{}pct\PYZus{}youngs}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}young\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{low\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{medium\PYZus{}pct\PYZus{}youngs}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}young\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{medium\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{high\PYZus{}pct\PYZus{}youngs}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}young\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{high\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}
        
            \PY{n}{age\PYZus{}young\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{low\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{medium\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{high\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}young\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}young\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}young\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}young\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{age\PYZus{}young\PYZus{}cats}\PY{p}{,} \PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}young\PYZus{}age\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{metro\PYZus{}low\PYZus{}y} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Metro}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}young\PYZus{}cat} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{low\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{metro\PYZus{}med\PYZus{}y} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Metro}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}young\PYZus{}cat} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{medium\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{metro\PYZus{}hg\PYZus{}y} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Metro}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}young\PYZus{}cat} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{high\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{nm\PYZus{}low\PYZus{}y} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NonMetro}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}young\PYZus{}cat} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{low\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{nm\PYZus{}med\PYZus{}y} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NonMetro}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}young\PYZus{}cat} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{medium\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{nm\PYZus{}hg\PYZus{}y} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NonMetro}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}young\PYZus{}cat} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{high\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{metro\PYZus{}low\PYZus{}y}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{metro\PYZus{}low\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{metro\PYZus{}med\PYZus{}y}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{metro\PYZus{}medium\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{metro\PYZus{}hg\PYZus{}y}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{metro\PYZus{}high\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{nm\PYZus{}low\PYZus{}y}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nonmetro\PYZus{}low\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{nm\PYZus{}med\PYZus{}y}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nonmetro\PYZus{}medium\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{nm\PYZus{}hg\PYZus{}y}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nonmetro\PYZus{}high\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{young\PYZus{}age\PYZus{}rucc\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{metro\PYZus{}low\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{metro\PYZus{}medium\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{metro\PYZus{}high\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}
                                  \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nonmetro\PYZus{}low\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nonmetro\PYZus{}medium\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nonmetro\PYZus{}high\PYZus{}youngs}\PY{l+s+s1}{\PYZsq{}} \PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{young\PYZus{}age\PYZus{}rucc\PYZus{}cats}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}young\PYZus{}age} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    This feature is redundant and less informative than 'age\_olds\_cat'. We
will therefore not include it.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}old\PYZus{}age\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{low\PYZus{}pct\PYZus{}olds} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}aged\PYZus{}65\PYZus{}years\PYZus{}and\PYZus{}older} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.167000}
            \PY{n}{high\PYZus{}pct\PYZus{}olds} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}aged\PYZus{}65\PYZus{}years\PYZus{}and\PYZus{}older} \PY{o}{\PYZgt{}} \PY{l+m+mf}{0.167000}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{low\PYZus{}pct\PYZus{}olds}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}old\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{low\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{high\PYZus{}pct\PYZus{}olds}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}old\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{high\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{age\PYZus{}old\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{low\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{high\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}old\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}old\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}old\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}old\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{age\PYZus{}old\PYZus{}cats}\PY{p}{,} \PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}old\PYZus{}age\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}old\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{metro\PYZus{}low\PYZus{}o} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Metro}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}old\PYZus{}cat} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{low\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{metro\PYZus{}hg\PYZus{}o} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Metro}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}old\PYZus{}cat} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{high\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{nm\PYZus{}low\PYZus{}o} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NonMetro}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}old\PYZus{}cat} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{low\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{nm\PYZus{}hg\PYZus{}o} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{rucc} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NonMetro}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{age\PYZus{}old\PYZus{}cat} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{high\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{metro\PYZus{}low\PYZus{}o}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{old\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{metro\PYZus{}low\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{metro\PYZus{}hg\PYZus{}o}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{old\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{metro\PYZus{}high\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{nm\PYZus{}low\PYZus{}o}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{old\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nonmetro\PYZus{}low\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{nm\PYZus{}hg\PYZus{}o}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{old\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nonmetro\PYZus{}high\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{old\PYZus{}age\PYZus{}rucc\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{metro\PYZus{}low\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{metro\PYZus{}high\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}
                                  \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nonmetro\PYZus{}low\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nonmetro\PYZus{}high\PYZus{}olds}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{old\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{old\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{old\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{old\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{old\PYZus{}age\PYZus{}rucc\PYZus{}cats}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}old\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}old\PYZus{}age} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{old\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}birthrate\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{br\PYZus{}0\PYZus{}5} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{5}
            \PY{n}{br\PYZus{}5\PYZus{}10} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{5}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{10}\PY{p}{)}
            \PY{n}{br\PYZus{}10\PYZus{}15} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{10}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{15}\PY{p}{)} 
            \PY{n}{br\PYZus{}15\PYZus{}20} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{20}\PY{p}{)}
            \PY{n}{br\PYZus{}20\PYZus{}25} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{20}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{25}\PY{p}{)}
            \PY{n}{br\PYZus{}25\PYZus{}30} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{25}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{30}\PY{p}{)}
            \PY{n}{br\PYZus{}30\PYZus{}35} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{30}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{35}\PY{p}{)}
            \PY{n}{br\PYZus{}35\PYZus{}40} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{35}
        
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{br\PYZus{}0\PYZus{}5}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{birth\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}0\PYZus{}5}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{br\PYZus{}5\PYZus{}10}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{birth\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}5\PYZus{}10}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{br\PYZus{}10\PYZus{}15}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{birth\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}10\PYZus{}15}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{br\PYZus{}15\PYZus{}20}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{birth\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}15\PYZus{}20}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{br\PYZus{}20\PYZus{}25}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{birth\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}20\PYZus{}25}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{br\PYZus{}25\PYZus{}30}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{birth\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}25\PYZus{}30}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{br\PYZus{}30\PYZus{}35}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{birth\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}30\PYZus{}35}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{br\PYZus{}35\PYZus{}40}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{birth\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}35\PYZus{}40}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{ord\PYZus{}br\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}0\PYZus{}5}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}5\PYZus{}10}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}10\PYZus{}15}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}15\PYZus{}20}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}20\PYZus{}25}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}25\PYZus{}30}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}30\PYZus{}35}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{br\PYZus{}35\PYZus{}40}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{birth\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{birth\PYZus{}rate\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{birth\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{birth\PYZus{}rate\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{ord\PYZus{}br\PYZus{}cats}\PY{p}{,} \PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}birthrate\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}br} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{birth\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}deathrate\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{dr\PYZus{}0\PYZus{}5} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{5}
            \PY{n}{dr\PYZus{}5\PYZus{}10} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{5}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{10}\PY{p}{)}
            \PY{n}{dr\PYZus{}10\PYZus{}15} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{10}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{15}\PY{p}{)}
            \PY{n}{dr\PYZus{}15\PYZus{}20} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{20}\PY{p}{)}
            \PY{n}{dr\PYZus{}20\PYZus{}25} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{20}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{25}\PY{p}{)}
            \PY{n}{dr\PYZus{}25\PYZus{}30} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{25}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{30}\PY{p}{)}
            \PY{n}{dr\PYZus{}30\PYZus{}35} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{30}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZlt{}} \PY{l+m+mi}{35}\PY{p}{)}
            \PY{n}{dr\PYZus{}35\PYZus{}40} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{35}
        
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{dr\PYZus{}0\PYZus{}5}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{death\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}0\PYZus{}5}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{dr\PYZus{}5\PYZus{}10}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{death\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}5\PYZus{}10}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{dr\PYZus{}10\PYZus{}15}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{death\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}10\PYZus{}15}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{dr\PYZus{}15\PYZus{}20}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{death\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}15\PYZus{}20}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{dr\PYZus{}20\PYZus{}25}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{death\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}20\PYZus{}25}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{dr\PYZus{}25\PYZus{}30}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{death\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}25\PYZus{}30}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{dr\PYZus{}30\PYZus{}35}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{death\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}30\PYZus{}35}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{dr\PYZus{}35\PYZus{}40}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{death\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}35\PYZus{}40}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{ord\PYZus{}dr\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}0\PYZus{}5}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}5\PYZus{}10}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}10\PYZus{}15}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}15\PYZus{}20}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}20\PYZus{}25}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}25\PYZus{}30}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}30\PYZus{}35}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dr\PYZus{}35\PYZus{}40}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{death\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{death\PYZus{}rate\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{death\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{death\PYZus{}rate\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{ord\PYZus{}dr\PYZus{}cats}\PY{p}{,} \PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}deathrate\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}n\PYZus{}ddr} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{death\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    We are going to drop this feature. I see no relevant pattern.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bpd\PYZus{}n\PYZus{}appm} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{getWhiskers}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{median}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}
            \PY{n}{upper\PYZus{}quartile} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{percentile}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{,} \PY{l+m+mi}{75}\PY{p}{)}
            \PY{n}{lower\PYZus{}quartile} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{percentile}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{,} \PY{l+m+mi}{25}\PY{p}{)}
            \PY{n}{iqr} \PY{o}{=} \PY{n}{upper\PYZus{}quartile} \PY{o}{\PYZhy{}} \PY{n}{lower\PYZus{}quartile}
            \PY{n}{upper\PYZus{}whisker} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{p}{[}\PY{n}{input\PYZus{}df}\PY{o}{\PYZlt{}}\PY{o}{=}\PY{n}{upper\PYZus{}quartile}\PY{o}{+}\PY{l+m+mf}{1.5}\PY{o}{*}\PY{n}{iqr}\PY{p}{]}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{p}{)}
            \PY{n}{lower\PYZus{}whisker} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{p}{[}\PY{n}{input\PYZus{}df}\PY{o}{\PYZgt{}}\PY{o}{=}\PY{n}{lower\PYZus{}quartile}\PY{o}{\PYZhy{}}\PY{l+m+mf}{1.5}\PY{o}{*}\PY{n}{iqr}\PY{p}{]}\PY{o}{.}\PY{n}{min}\PY{p}{(}\PY{p}{)}
            \PY{k}{return} \PY{n}{lower\PYZus{}whisker}\PY{p}{,} \PY{n}{upper\PYZus{}whisker}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}ethn} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}hispanic}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
        \PY{n}{bpd\PYZus{}ethn} \PY{o}{=} \PY{n}{poverty\PYZus{}ethn}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{return\PYZus{}type}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dict}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{p}{[}\PY{n}{item}\PY{o}{.}\PY{n}{get\PYZus{}xdata}\PY{p}{(}\PY{p}{)} \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{bpd\PYZus{}ethn}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{whiskers}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}hispanic\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{hispan\PYZus{}0\PYZus{}2} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}hispanic} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.2}
            \PY{n}{hispan\PYZus{}2\PYZus{}4} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}hispanic} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.2}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}hispanic} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.4}\PY{p}{)}
            \PY{n}{hispan\PYZus{}4\PYZus{}6} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}hispanic} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.4}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}hispanic} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.6}\PY{p}{)}
            \PY{n}{hispan\PYZus{}6\PYZus{}8} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}hispanic} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.6}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}hispanic} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.8}\PY{p}{)}
            \PY{n}{hispan\PYZus{}8\PYZus{}1} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}hispanic} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.8}\PY{p}{)}
            
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{hispan\PYZus{}0\PYZus{}2}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispanic\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispan\PYZus{}0\PYZus{}2}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{hispan\PYZus{}2\PYZus{}4}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispanic\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispan\PYZus{}2\PYZus{}4}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{hispan\PYZus{}4\PYZus{}6}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispanic\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispan\PYZus{}4\PYZus{}6}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{hispan\PYZus{}6\PYZus{}8}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispanic\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispan\PYZus{}6\PYZus{}8}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{hispan\PYZus{}8\PYZus{}1}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispanic\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispan\PYZus{}8\PYZus{}1}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{ord\PYZus{}hispan\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispan\PYZus{}0\PYZus{}2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispan\PYZus{}2\PYZus{}4}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispan\PYZus{}4\PYZus{}6}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispan\PYZus{}6\PYZus{}8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispan\PYZus{}8\PYZus{}1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispanic\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{hispanic\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispanic\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{hispanic\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{ord\PYZus{}hispan\PYZus{}cats}\PY{p}{,} \PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}hispanic\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}hispan} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispanic\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}ethn} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}african\PYZus{}american}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
        \PY{n}{bpd\PYZus{}ethn} \PY{o}{=} \PY{n}{poverty\PYZus{}ethn}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{return\PYZus{}type}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dict}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{p}{[}\PY{n}{item}\PY{o}{.}\PY{n}{get\PYZus{}xdata}\PY{p}{(}\PY{p}{)} \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{bpd\PYZus{}ethn}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{whiskers}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}african\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{african\PYZus{}0\PYZus{}2} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}african\PYZus{}american} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.2}
            \PY{n}{african\PYZus{}2\PYZus{}4} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}african\PYZus{}american} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.2}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}african\PYZus{}american} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.4}\PY{p}{)}
            \PY{n}{african\PYZus{}4\PYZus{}6} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}african\PYZus{}american} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.4}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}african\PYZus{}american} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.6}\PY{p}{)}
            \PY{n}{african\PYZus{}6\PYZus{}8} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}african\PYZus{}american} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.6}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}african\PYZus{}american} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.8}\PY{p}{)}
            \PY{n}{african\PYZus{}8\PYZus{}1} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}african\PYZus{}american} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.8}\PY{p}{)}
            
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{african\PYZus{}0\PYZus{}2}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}0\PYZus{}2}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{african\PYZus{}2\PYZus{}4}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}2\PYZus{}4}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{african\PYZus{}4\PYZus{}6}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}4\PYZus{}6}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{african\PYZus{}6\PYZus{}8}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}6\PYZus{}8}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{african\PYZus{}8\PYZus{}1}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}8\PYZus{}1}\PY{l+s+s1}{\PYZsq{}}
             
            \PY{n}{ord\PYZus{}african\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}0\PYZus{}2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}2\PYZus{}4}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}4\PYZus{}6}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}6\PYZus{}8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}8\PYZus{}1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{african\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{african\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{ord\PYZus{}african\PYZus{}cats}\PY{p}{,} \PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}african\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}african} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}ethn} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}white}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
        \PY{n}{bpd\PYZus{}ethn} \PY{o}{=} \PY{n}{poverty\PYZus{}ethn}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{return\PYZus{}type}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dict}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{p}{[}\PY{n}{item}\PY{o}{.}\PY{n}{get\PYZus{}xdata}\PY{p}{(}\PY{p}{)} \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{bpd\PYZus{}ethn}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{whiskers}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}white\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{white\PYZus{}0\PYZus{}2} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}white} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.2}
            \PY{n}{white\PYZus{}2\PYZus{}4} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}white} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.2}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}white} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.4}\PY{p}{)}
            \PY{n}{white\PYZus{}4\PYZus{}6} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}white} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.4}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}white} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.6}\PY{p}{)}
            \PY{n}{white\PYZus{}6\PYZus{}8} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}white} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.6}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}white} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.8}\PY{p}{)}
            \PY{n}{white\PYZus{}8\PYZus{}1} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}white} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.8}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{white\PYZus{}0\PYZus{}2}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}0\PYZus{}2}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{white\PYZus{}2\PYZus{}4}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}2\PYZus{}4}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{white\PYZus{}4\PYZus{}6}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}4\PYZus{}6}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{white\PYZus{}6\PYZus{}8}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}6\PYZus{}8}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{white\PYZus{}8\PYZus{}1}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}8\PYZus{}1}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{ord\PYZus{}white\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}0\PYZus{}2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}2\PYZus{}4}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}4\PYZus{}6}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}6\PYZus{}8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}8\PYZus{}1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{white\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{white\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{ord\PYZus{}white\PYZus{}cats}\PY{p}{,} \PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}white\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}n\PYZus{}ddr} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}ethn} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}american\PYZus{}indian\PYZus{}or\PYZus{}alaskan\PYZus{}native}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
        \PY{n}{bpd\PYZus{}ethn} \PY{o}{=} \PY{n}{poverty\PYZus{}ethn}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{return\PYZus{}type}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dict}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{p}{[}\PY{n}{item}\PY{o}{.}\PY{n}{get\PYZus{}xdata}\PY{p}{(}\PY{p}{)} \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{bpd\PYZus{}ethn}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{whiskers}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}native\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{native\PYZus{}0\PYZus{}2} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}american\PYZus{}indian\PYZus{}or\PYZus{}alaskan\PYZus{}native} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.2}
            \PY{n}{native\PYZus{}2\PYZus{}4} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}american\PYZus{}indian\PYZus{}or\PYZus{}alaskan\PYZus{}native} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.2}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}american\PYZus{}indian\PYZus{}or\PYZus{}alaskan\PYZus{}native} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.4}\PY{p}{)}
            \PY{n}{native\PYZus{}4\PYZus{}6} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}american\PYZus{}indian\PYZus{}or\PYZus{}alaskan\PYZus{}native} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.4}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}american\PYZus{}indian\PYZus{}or\PYZus{}alaskan\PYZus{}native} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.6}\PY{p}{)}
            \PY{n}{native\PYZus{}6\PYZus{}8} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}american\PYZus{}indian\PYZus{}or\PYZus{}alaskan\PYZus{}native} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.6}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}american\PYZus{}indian\PYZus{}or\PYZus{}alaskan\PYZus{}native} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.8}\PY{p}{)}
            \PY{n}{native\PYZus{}8\PYZus{}1} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}american\PYZus{}indian\PYZus{}or\PYZus{}alaskan\PYZus{}native} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.8}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{native\PYZus{}0\PYZus{}2}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}0\PYZus{}2}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{native\PYZus{}2\PYZus{}4}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}2\PYZus{}4}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{native\PYZus{}4\PYZus{}6}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}4\PYZus{}6}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{native\PYZus{}6\PYZus{}8}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}6\PYZus{}8}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{native\PYZus{}8\PYZus{}1}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}8\PYZus{}1}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{ord\PYZus{}native\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}0\PYZus{}2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}2\PYZus{}4}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}4\PYZus{}6}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}6\PYZus{}8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}8\PYZus{}1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{native\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{native\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{ord\PYZus{}native\PYZus{}cats}\PY{p}{,} \PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}native\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}n\PYZus{}ddr} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}ethn} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}asian}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
        \PY{n}{bpd\PYZus{}ethn} \PY{o}{=} \PY{n}{poverty\PYZus{}ethn}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,} \PY{n}{return\PYZus{}type}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dict}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{p}{[}\PY{n}{item}\PY{o}{.}\PY{n}{get\PYZus{}xdata}\PY{p}{(}\PY{p}{)} \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{bpd\PYZus{}ethn}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{whiskers}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}asian\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{asian\PYZus{}0\PYZus{}2} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}asian} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.2}
            \PY{n}{asian\PYZus{}2\PYZus{}4} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}asian} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.2}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}asian} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.4}\PY{p}{)}
            \PY{n}{asian\PYZus{}4\PYZus{}6} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}asian} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.4}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}asian} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.6}\PY{p}{)}
            \PY{n}{asian\PYZus{}6\PYZus{}8} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}asian} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.6}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}asian} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.8}\PY{p}{)}
            \PY{n}{asian\PYZus{}8\PYZus{}1} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{demo\PYZus{}\PYZus{}pct\PYZus{}asian} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.8}\PY{p}{)}
        
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{asian\PYZus{}0\PYZus{}2}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}0\PYZus{}2}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{asian\PYZus{}2\PYZus{}4}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}2\PYZus{}4}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{asian\PYZus{}4\PYZus{}6}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}4\PYZus{}6}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{asian\PYZus{}6\PYZus{}8}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}6\PYZus{}8}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{asian\PYZus{}8\PYZus{}1}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}8\PYZus{}1}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{ord\PYZus{}asian\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}0\PYZus{}2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}2\PYZus{}4}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}4\PYZus{}6}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}6\PYZus{}8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}8\PYZus{}1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{asian\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{asian\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{ord\PYZus{}asian\PYZus{}cats}\PY{p}{,} \PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}asian\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}n\PYZus{}ddr} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{,}\PY{l+m+mi}{20}\PY{p}{)}\PY{p}{,} \PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispanic\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}h\PYZus{}dentist\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{h\PYZus{}dentist\PYZus{}0\PYZus{}5k} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist} \PY{o}{\PYZlt{}} \PY{l+m+mi}{5000}
            \PY{n}{h\PYZus{}dentist\PYZus{}5\PYZus{}10k} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{5000}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist} \PY{o}{\PYZlt{}} \PY{l+m+mi}{10000}\PY{p}{)}
            \PY{n}{h\PYZus{}dentist\PYZus{}10\PYZus{}15k} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{10000}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist} \PY{o}{\PYZlt{}} \PY{l+m+mi}{15000}\PY{p}{)}
            \PY{n}{h\PYZus{}dentist\PYZus{}15\PYZus{}20k} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{15000}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist} \PY{o}{\PYZlt{}} \PY{l+m+mi}{20000}\PY{p}{)}
            \PY{n}{h\PYZus{}dentist\PYZus{}20\PYZus{}25k} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{20000}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist} \PY{o}{\PYZlt{}} \PY{l+m+mi}{25000}\PY{p}{)}
            \PY{n}{h\PYZus{}dentist\PYZus{}25k} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{25000}\PY{p}{)}
        
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{h\PYZus{}dentist\PYZus{}0\PYZus{}5k}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}0\PYZus{}5k}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{h\PYZus{}dentist\PYZus{}5\PYZus{}10k}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}5\PYZus{}10k}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{h\PYZus{}dentist\PYZus{}10\PYZus{}15k}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}10\PYZus{}15k}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{h\PYZus{}dentist\PYZus{}15\PYZus{}20k}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}15\PYZus{}20k}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{h\PYZus{}dentist\PYZus{}20\PYZus{}25k}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}20\PYZus{}25k}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{h\PYZus{}dentist\PYZus{}25k}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}25k}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{ord\PYZus{}h\PYZus{}dentist\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}0\PYZus{}5k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}5\PYZus{}10k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}10\PYZus{}15k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}15\PYZus{}20k}\PY{l+s+s1}{\PYZsq{}}
                              \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}20\PYZus{}25k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}25k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{h\PYZus{}dentist\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{h\PYZus{}dentist\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{ord\PYZus{}h\PYZus{}dentist\PYZus{}cats}\PY{p}{,} \PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}h\PYZus{}dentist\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}n\PYZus{}ddr} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}h\PYZus{}physician\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{h\PYZus{}physician\PYZus{}cat\PYZus{}0\PYZus{}5k} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician} \PY{o}{\PYZlt{}} \PY{l+m+mi}{5000}
            \PY{n}{h\PYZus{}physician\PYZus{}cat\PYZus{}5\PYZus{}10k} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{5000}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician} \PY{o}{\PYZlt{}} \PY{l+m+mi}{10000}\PY{p}{)}
            \PY{n}{h\PYZus{}physician\PYZus{}cat\PYZus{}10\PYZus{}15k} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{10000}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician} \PY{o}{\PYZlt{}} \PY{l+m+mi}{15000}\PY{p}{)}
            \PY{n}{h\PYZus{}physician\PYZus{}cat\PYZus{}15\PYZus{}20k} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{15000}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician} \PY{o}{\PYZlt{}} \PY{l+m+mi}{20000}\PY{p}{)}
            \PY{n}{h\PYZus{}physician\PYZus{}cat\PYZus{}20\PYZus{}25k} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{20000}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician} \PY{o}{\PYZlt{}} \PY{l+m+mi}{25000}\PY{p}{)}
            \PY{n}{h\PYZus{}physician\PYZus{}cat\PYZus{}25k} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{25000}\PY{p}{)}
        
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{h\PYZus{}physician\PYZus{}cat\PYZus{}0\PYZus{}5k}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat\PYZus{}0\PYZus{}5k}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{h\PYZus{}physician\PYZus{}cat\PYZus{}5\PYZus{}10k}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat\PYZus{}5\PYZus{}10k}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{h\PYZus{}physician\PYZus{}cat\PYZus{}10\PYZus{}15k}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat\PYZus{}10\PYZus{}15k}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{h\PYZus{}physician\PYZus{}cat\PYZus{}15\PYZus{}20k}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat\PYZus{}15\PYZus{}20k}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{h\PYZus{}physician\PYZus{}cat\PYZus{}20\PYZus{}25k}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat\PYZus{}20\PYZus{}25k}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{h\PYZus{}physician\PYZus{}cat\PYZus{}25k}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat\PYZus{}25k}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{ord\PYZus{}h\PYZus{}physician\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat\PYZus{}0\PYZus{}5k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat\PYZus{}5\PYZus{}10k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat\PYZus{}10\PYZus{}15k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat\PYZus{}15\PYZus{}20k}\PY{l+s+s1}{\PYZsq{}}
                              \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat\PYZus{}20\PYZus{}25k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat\PYZus{}25k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{h\PYZus{}physician\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{h\PYZus{}physician\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{ord\PYZus{}h\PYZus{}physician\PYZus{}cats}\PY{p}{,} \PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}h\PYZus{}physician\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}n\PYZus{}ddr} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}air\PYZus{}poll\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{ap\PYZus{}0\PYZus{}5} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter} \PY{o}{\PYZlt{}} \PY{l+m+mi}{5}
            \PY{n}{ap\PYZus{}5\PYZus{}10} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{5}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter} \PY{o}{\PYZlt{}} \PY{l+m+mi}{10}\PY{p}{)}
            \PY{n}{ap\PYZus{}10\PYZus{}15} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{10}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter} \PY{o}{\PYZlt{}} \PY{l+m+mi}{15}\PY{p}{)} 
            \PY{n}{ap\PYZus{}15\PYZus{}20} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter} \PY{o}{\PYZlt{}} \PY{l+m+mi}{20}\PY{p}{)}
            \PY{n}{ap\PYZus{}20\PYZus{}25} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{20}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter} \PY{o}{\PYZlt{}} \PY{l+m+mi}{25}\PY{p}{)}
            \PY{n}{ap\PYZus{}25} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{25}\PY{p}{)}
        
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{ap\PYZus{}0\PYZus{}5}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{air\PYZus{}poll\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ap\PYZus{}0\PYZus{}5}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{ap\PYZus{}5\PYZus{}10}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{air\PYZus{}poll\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ap\PYZus{}5\PYZus{}10}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{ap\PYZus{}10\PYZus{}15}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{air\PYZus{}poll\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ap\PYZus{}10\PYZus{}15}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{ap\PYZus{}15\PYZus{}20}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{air\PYZus{}poll\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ap\PYZus{}15\PYZus{}20}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{ap\PYZus{}20\PYZus{}25}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{air\PYZus{}poll\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ap\PYZus{}20\PYZus{}25}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{ap\PYZus{}25}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{air\PYZus{}poll\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ap\PYZus{}25}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{air\PYZus{}poll\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ap\PYZus{}0\PYZus{}5}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ap\PYZus{}5\PYZus{}10}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ap\PYZus{}10\PYZus{}15}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ap\PYZus{}15\PYZus{}20}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ap\PYZus{}20\PYZus{}25}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ap\PYZus{}25}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{air\PYZus{}poll\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{air\PYZus{}poll\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{air\PYZus{}poll\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{air\PYZus{}poll\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{air\PYZus{}poll\PYZus{}cats}\PY{p}{,} \PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}air\PYZus{}poll\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}n\PYZus{}airpoll} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{air\PYZus{}poll\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{create\PYZus{}child\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{child\PYZus{}0\PYZus{}2} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{econ\PYZus{}\PYZus{}pct\PYZus{}uninsured\PYZus{}children} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.2}
            \PY{n}{child\PYZus{}2\PYZus{}4} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{econ\PYZus{}\PYZus{}pct\PYZus{}uninsured\PYZus{}children} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.2}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{econ\PYZus{}\PYZus{}pct\PYZus{}uninsured\PYZus{}children} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.4}\PY{p}{)}
            \PY{n}{child\PYZus{}4\PYZus{}6} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{econ\PYZus{}\PYZus{}pct\PYZus{}uninsured\PYZus{}children} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.4}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{econ\PYZus{}\PYZus{}pct\PYZus{}uninsured\PYZus{}children} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.6}\PY{p}{)}
            \PY{n}{child\PYZus{}6\PYZus{}8} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{econ\PYZus{}\PYZus{}pct\PYZus{}uninsured\PYZus{}children} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.6}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{econ\PYZus{}\PYZus{}pct\PYZus{}uninsured\PYZus{}children} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.8}\PY{p}{)}
            \PY{n}{child\PYZus{}8\PYZus{}1} \PY{o}{=} \PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{econ\PYZus{}\PYZus{}pct\PYZus{}uninsured\PYZus{}children} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mf}{0.8}\PY{p}{)}
        
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{child\PYZus{}0\PYZus{}2}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}0\PYZus{}2}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{child\PYZus{}2\PYZus{}4}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}2\PYZus{}4}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{child\PYZus{}4\PYZus{}6}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}4\PYZus{}6}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{child\PYZus{}6\PYZus{}8}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}6\PYZus{}8}\PY{l+s+s1}{\PYZsq{}}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{child\PYZus{}8\PYZus{}1}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}8\PYZus{}1}\PY{l+s+s1}{\PYZsq{}}
            
            \PY{n}{ord\PYZus{}child\PYZus{}cats} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}0\PYZus{}2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}2\PYZus{}4}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}4\PYZus{}6}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}6\PYZus{}8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}8\PYZus{}1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{child\PYZus{}cat}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{child\PYZus{}cat}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{set\PYZus{}categories}\PY{p}{(}\PY{n}{ord\PYZus{}child\PYZus{}cats}\PY{p}{,} \PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty} \PY{o}{=} \PY{n}{create\PYZus{}child\PYZus{}cat}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
        \PY{n}{bpd\PYZus{}n\PYZus{}airpoll} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \subsubsection{TODO Outliers Analysis!}\label{todo-outliers-analysis}

    Lets try to fix at least these outliers

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{bpd\PYZus{}n\PYZus{}rucc} \PY{o}{=} \PY{n}{poverty}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \subsection{Cleaning the Data}\label{cleaning-the-data}

In this phase or stage we clean the data: * drop features with low
prediction value * replace missing values * scale features???

    \subsubsection{Drop columns}\label{drop-columns}

We will start by dropping the columns or features with low prediction
value. The features 'area\_\_rucc', 'age\_cat',
'area\_\_urban\_influence', 'econ\_\_economic\_typology' and 'rucc' are
redundant with the new features 'age\_rucc', 'aui' and 'eet' we created.
The feature 'yr' does not hold value to predict poverty\_rate???????.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} econ\PYZus{}\PYZus{}pct\PYZus{}uninsured\PYZus{}children                        0.098882}
        
        \PY{k}{def} \PY{n+nf}{drop\PYZus{}features}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{result\PYZus{}df} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{area\PYZus{}\PYZus{}rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}below\PYZus{}18\PYZus{}years\PYZus{}of\PYZus{}age}\PY{l+s+s1}{\PYZsq{}}
                                              \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}aged\PYZus{}65\PYZus{}years\PYZus{}and\PYZus{}older}\PY{l+s+s1}{\PYZsq{}}
                                              \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}physician\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}
                                              \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}air\PYZus{}pollution\PYZus{}particulate\PYZus{}matter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{air\PYZus{}poll\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}
                                              \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}asian}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}american\PYZus{}indian\PYZus{}or\PYZus{}alaskan\PYZus{}native}\PY{l+s+s1}{\PYZsq{}}
                                              \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}african\PYZus{}american}\PY{l+s+s1}{\PYZsq{}}
                                              \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}white}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}hispanic}\PY{l+s+s1}{\PYZsq{}}
                                              \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}death\PYZus{}rate\PYZus{}per\PYZus{}1k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}birth\PYZus{}rate\PYZus{}per\PYZus{}1k}\PY{l+s+s1}{\PYZsq{}}
                                              \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}female}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}primary\PYZus{}care\PYZus{}physician}\PY{l+s+s1}{\PYZsq{}}
                                              \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pop\PYZus{}per\PYZus{}dentist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}young\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age\PYZus{}old\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}
                                              \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{econ\PYZus{}\PYZus{}pct\PYZus{}uninsured\PYZus{}children}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{child\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}
                                              \PY{p}{,}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
            \PY{k}{return} \PY{n}{result\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}clean} \PY{o}{=} \PY{n}{drop\PYZus{}features}\PY{p}{(}\PY{n}{poverty}\PY{p}{)}
\end{Verbatim}


    \subsubsection{Convert feature to right
type}\label{convert-feature-to-right-type}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{convert\PYZus{}to\PYZus{}cat}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{area\PYZus{}\PYZus{}urban\PYZus{}influence}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}urban\PYZus{}influence}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{category}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{econ\PYZus{}\PYZus{}economic\PYZus{}typology}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{econ\PYZus{}\PYZus{}economic\PYZus{}typology}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{category}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}clean} \PY{o}{=} \PY{n}{convert\PYZus{}to\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}clean}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}clean}\PY{o}{.}\PY{n}{dtypes}
\end{Verbatim}


    \subsubsection{Apply SQRT
Transformation}\label{apply-sqrt-transformation}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{apply\PYZus{}log10}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{float\PYZus{}df} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{dtypes} \PY{o}{==} \PY{n}{np}\PY{o}{.}\PY{n}{float}\PY{p}{]}
            \PY{n}{float\PYZus{}df} \PY{o}{=} \PY{n}{float\PYZus{}df}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{dtypes} \PY{o}{==} \PY{n}{np}\PY{o}{.}\PY{n}{float}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log10}\PY{p}{(}\PY{n}{float\PYZus{}df}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
        
        \PY{k}{def} \PY{n+nf}{apply\PYZus{}pov\PYZus{}rate\PYZus{}sqrt}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \subsubsection{Replace Missing Values}\label{replace-missing-values}

The missing values are replaced by the respective median value of the
feature or variable.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{clean\PYZus{}nans}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{result\PYZus{}df} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{fillna}\PY{p}{(}\PY{n}{poverty\PYZus{}clean}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{p}{)}
            \PY{k}{return} \PY{n}{result\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}clean} \PY{o}{=} \PY{n}{clean\PYZus{}nans}\PY{p}{(}\PY{n}{poverty\PYZus{}clean}\PY{p}{)}
        \PY{n}{poverty\PYZus{}clean}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


    As we can see here under there are no missing values.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}clean}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \subsubsection{TODO Scale Features!!!}\label{todo-scale-features}

Most of the quantitative features are already scaled between 0 and 1.
However the following features are not: *
**demo\_\_birth\_rate\_per\_1k** (behave like categorical variables) *
**demo\_\_death\_rate\_per\_1k** (behave like categorical variables) *
**health\_\_air\_pollution\_particulate\_matter** (behave like
categorical variables) * health\_\_homicides\_per\_100k *
health\_\_motor\_vehicle\_crash\_deaths\_per\_100k *
health\_\_pop\_per\_dentist *
health\_\_pop\_per\_primary\_care\_physician

This is why we apply the MinMaxScaler

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{scale\PYZus{}features}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{input\PYZus{}scale} \PY{o}{=} \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}homicides\PYZus{}per\PYZus{}100k}\PY{l+s+s1}{\PYZsq{}}
                                            \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}motor\PYZus{}vehicle\PYZus{}crash\PYZus{}deaths\PYZus{}per\PYZus{}100k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
            
            \PY{n}{input\PYZus{}scaled} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{MinMaxScaler}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{input\PYZus{}scale}\PY{p}{)}\PY{p}{,} \PY{n}{columns}\PY{o}{=}\PY{n}{input\PYZus{}scale}\PY{o}{.}\PY{n}{columns}\PY{p}{)}
            
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}homicides\PYZus{}per\PYZus{}100k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}scaled}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}homicides\PYZus{}per\PYZus{}100k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{input\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}motor\PYZus{}vehicle\PYZus{}crash\PYZus{}deaths\PYZus{}per\PYZus{}100k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{input\PYZus{}scaled}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}motor\PYZus{}vehicle\PYZus{}crash\PYZus{}deaths\PYZus{}per\PYZus{}100k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{k}{return} \PY{n}{input\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}clean} \PY{o}{=} \PY{n}{scale\PYZus{}features}\PY{p}{(}\PY{n}{poverty\PYZus{}clean}\PY{p}{)}
        \PY{n}{poverty\PYZus{}clean}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \subsubsection{One Hot Encoding of Categorical
Variables}\label{one-hot-encoding-of-categorical-variables}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k}{def} \PY{n+nf}{cat\PYZus{}to\PYZus{}dummies}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{)}\PY{p}{:}
            \PY{n}{result\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{input\PYZus{}df}\PY{p}{,} \PY{n}{dummy\PYZus{}na}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{area\PYZus{}\PYZus{}urban\PYZus{}influence}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{econ\PYZus{}\PYZus{}economic\PYZus{}typology}\PY{l+s+s1}{\PYZsq{}}
                                                                         \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{old\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}
                                                                        \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{birth\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{death\PYZus{}rate\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}
                                                                        \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hispanic\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{african\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}
                                                                        \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{native\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}
                                                                        \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{asian\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}
                                                                        \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h\PYZus{}dentist\PYZus{}cat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
            \PY{k}{return} \PY{n}{result\PYZus{}df}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}clean} \PY{o}{=} \PY{n}{cat\PYZus{}to\PYZus{}dummies}\PY{p}{(}\PY{n}{poverty\PYZus{}clean}\PY{p}{)}
        \PY{n}{poverty\PYZus{}clean}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}clean}\PY{o}{.}\PY{n}{dtypes}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}clean}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


    \subsection{Model Building}\label{model-building}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{rng} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{random}\PY{o}{.}\PY{n}{RandomState}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}X} \PY{o}{=} \PY{n}{poverty\PYZus{}clean}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{row\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{poverty\PYZus{}y} \PY{o}{=} \PY{n}{poverty\PYZus{}clean}\PY{o}{.}\PY{n}{poverty\PYZus{}rate}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} use r2 adjusted in the future}
        \PY{n}{scoring} \PY{o}{=} \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mse}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{make\PYZus{}scorer}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{,} \PY{n}{greater\PYZus{}is\PYZus{}better}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{p}{\PYZcb{}}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{inner\PYZus{}cv} \PY{o}{=} \PY{n}{ShuffleSplit}\PY{p}{(}\PY{n}{n\PYZus{}splits}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,} \PY{n}{test\PYZus{}size}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{n}{rng}\PY{p}{)}
        \PY{n}{outer\PYZus{}cv} \PY{o}{=} \PY{n}{ShuffleSplit}\PY{p}{(}\PY{n}{n\PYZus{}splits}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,} \PY{n}{test\PYZus{}size}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{n}{rng}\PY{p}{)}
        \PY{n}{inner\PYZus{}clf\PYZus{}cv} \PY{o}{=} \PY{n}{StratifiedShuffleSplit}\PY{p}{(}\PY{n}{n\PYZus{}splits}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,} \PY{n}{test\PYZus{}size}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{n}{rng}\PY{p}{)}
        \PY{n}{outer\PYZus{}clf\PYZus{}cv} \PY{o}{=} \PY{n}{StratifiedShuffleSplit}\PY{p}{(}\PY{n}{n\PYZus{}splits}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,} \PY{n}{test\PYZus{}size}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{n}{rng}\PY{p}{)}
\end{Verbatim}


    \subsubsection{Clustering}\label{clustering}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} kmeans = KMeans(n\PYZus{}clusters=4, n\PYZus{}init=3, max\PYZus{}iter=300, init=\PYZsq{}random\PYZsq{}, random\PYZus{}state=rng, n\PYZus{}jobs=\PYZhy{}1)}
        \PY{c+c1}{\PYZsh{} kmeans.fit(poverty\PYZus{}clean.drop(columns=[\PYZsq{}row\PYZus{}id\PYZsq{}], axis=1))}
        \PY{c+c1}{\PYZsh{} labels = pd.DataFrame(kmeans.predict(poverty\PYZus{}clean.drop(columns=[\PYZsq{}row\PYZus{}id\PYZsq{}], axis=1)), columns=[\PYZsq{}clusters\PYZsq{}])}
        \PY{c+c1}{\PYZsh{} labels.head()}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} poverty\PYZus{}X = poverty\PYZus{}clean.copy()}
        
        \PY{c+c1}{\PYZsh{} poverty\PYZus{}X.loc[labels.clusters == 0, \PYZsq{}clusters\PYZsq{}] = 0}
        \PY{c+c1}{\PYZsh{} poverty\PYZus{}X.loc[labels.clusters == 1, \PYZsq{}clusters\PYZsq{}] = 1}
        \PY{c+c1}{\PYZsh{} poverty\PYZus{}X.loc[labels.clusters == 2, \PYZsq{}clusters\PYZsq{}] = 2}
        \PY{c+c1}{\PYZsh{} poverty\PYZus{}X.loc[labels.clusters == 3, \PYZsq{}clusters\PYZsq{}] = 3}
        
        \PY{c+c1}{\PYZsh{} cluster\PYZus{}cats = [0, 1, 2, 3]}
        \PY{c+c1}{\PYZsh{} poverty\PYZus{}X.loc[:,\PYZsq{}clusters\PYZsq{}] = cl\PYZus{}pov\PYZus{}X.clusters.astype(\PYZsq{}category\PYZsq{})}
        \PY{c+c1}{\PYZsh{} poverty\PYZus{}X.loc[:,\PYZsq{}clusters\PYZsq{}] = cl\PYZus{}pov\PYZus{}X.clusters.cat.set\PYZus{}categories(cluster\PYZus{}cats)}
        \PY{c+c1}{\PYZsh{} poverty\PYZus{}X.shape}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} bpd\PYZus{}clusters = poverty\PYZus{}X.boxplot(column=\PYZsq{}poverty\PYZus{}rate\PYZsq{}, by=[\PYZsq{}clusters\PYZsq{}], vert=False)}
        \PY{c+c1}{\PYZsh{} poverty\PYZus{}X = poverty\PYZus{}X.drop(columns=[\PYZsq{}row\PYZus{}id\PYZsq{},\PYZsq{}poverty\PYZus{}rate\PYZsq{}], axis=1)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} andrews\PYZus{}curves(poverty\PYZus{}X, \PYZsq{}clusters\PYZsq{}, samples=100)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} parallel\PYZus{}coordinates(poverty\PYZus{}X.loc[:,[\PYZsq{}econ\PYZus{}\PYZus{}pct\PYZus{}unemployment\PYZsq{},\PYZsq{}health\PYZus{}\PYZus{}pct\PYZus{}diabetes\PYZsq{}}
        \PY{c+c1}{\PYZsh{}                                       ,\PYZsq{}area\PYZus{}\PYZus{}urban\PYZus{}influence\PYZsq{}}
        \PY{c+c1}{\PYZsh{}                                       ,\PYZsq{}clusters\PYZsq{}]], \PYZsq{}clusters\PYZsq{})}
\end{Verbatim}


    \subsubsection{Create Classifier}\label{create-classifier}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} adaClf = AdaBoostClassifier(DecisionTreeClassifier(max\PYZus{}depth=23, splitter=\PYZsq{}random\PYZsq{}, criterion=\PYZsq{}entropy\PYZsq{}}
        \PY{c+c1}{\PYZsh{}                                                 , min\PYZus{}samples\PYZus{}split=0.015, min\PYZus{}samples\PYZus{}leaf=0.005}
        \PY{c+c1}{\PYZsh{}                                                  , min\PYZus{}impurity\PYZus{}decrease=0.2, random\PYZus{}state=rng)}
        \PY{c+c1}{\PYZsh{}                            , n\PYZus{}estimators=500, learning\PYZus{}rate=1, random\PYZus{}state=rng)}
        
        \PY{c+c1}{\PYZsh{} adaClf = AdaBoostClassifier(DecisionTreeClassifier(max\PYZus{}depth=13, splitter=\PYZsq{}random\PYZsq{}, criterion=\PYZsq{}entropy\PYZsq{}}
        \PY{c+c1}{\PYZsh{}                                                  , random\PYZus{}state=rng)}
        \PY{c+c1}{\PYZsh{}                            , n\PYZus{}estimators=500, learning\PYZus{}rate=1, random\PYZus{}state=rng)}
        
        \PY{c+c1}{\PYZsh{} adaClf = AdaBoostClassifier(DecisionTreeClassifier(max\PYZus{}depth=7, splitter=\PYZsq{}random\PYZsq{}, criterion=\PYZsq{}entropy\PYZsq{}}
        \PY{c+c1}{\PYZsh{}                                                  , random\PYZus{}state=rng)}
        \PY{c+c1}{\PYZsh{}                            , n\PYZus{}estimators=500, learning\PYZus{}rate=1, random\PYZus{}state=rng)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} clf\PYZus{}cachedir = mkdtemp()}
        \PY{c+c1}{\PYZsh{} clf\PYZus{}estimators = [(\PYZsq{}clf\PYZsq{}, adaClf)]}
        \PY{c+c1}{\PYZsh{} clf\PYZus{}pipe = Pipeline(clf\PYZus{}estimators, memory=clf\PYZus{}cachedir)}
        \PY{c+c1}{\PYZsh{} clf\PYZus{}param\PYZus{}grid = dict(clf=[adaClf])}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} clf\PYZus{}grid = GridSearchCV(estimator=clf\PYZus{}pipe, param\PYZus{}grid=clf\PYZus{}param\PYZus{}grid, scoring=\PYZsq{}accuracy\PYZsq{}, cv=inner\PYZus{}clf\PYZus{}cv}
        \PY{c+c1}{\PYZsh{}                         , error\PYZus{}score=0, refit=\PYZsq{}accuracy\PYZsq{})}
        \PY{c+c1}{\PYZsh{} clf\PYZus{}pred = clf\PYZus{}grid.fit(poverty\PYZus{}X.drop(columns=[\PYZsq{}clusters\PYZsq{}], axis=1), poverty\PYZus{}X.loc[:,\PYZsq{}clusters\PYZsq{}])}
        \PY{c+c1}{\PYZsh{} clf\PYZus{}pred.best\PYZus{}estimator\PYZus{}}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} train\PYZus{}scores = cross\PYZus{}validate(clf\PYZus{}grid, poverty\PYZus{}X.drop(columns=[\PYZsq{}clusters\PYZsq{}], axis=1), poverty\PYZus{}X.loc[:,\PYZsq{}clusters\PYZsq{}], cv=outer\PYZus{}clf\PYZus{}cv, scoring=\PYZsq{}accuracy\PYZsq{}, return\PYZus{}train\PYZus{}score=True)}
        \PY{c+c1}{\PYZsh{} train\PYZus{}scores}
\end{Verbatim}


    'test\_score': array({[} 0.5725429 , 0.56474259, 0.5921875 , 0.61032864,
0.60910518{]}),

    \subsubsection{Plain Least Square
Regression}\label{plain-least-square-regression}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{lin\PYZus{}reg} \PY{o}{=} \PY{n}{LinearRegression}\PY{p}{(}\PY{p}{)}
        \PY{n}{lin\PYZus{}reg\PYZus{}grid} \PY{o}{=} \PY{n}{GridSearchCV}\PY{p}{(}\PY{n}{estimator}\PY{o}{=}\PY{n}{lin\PYZus{}reg}\PY{p}{,} \PY{n}{param\PYZus{}grid}\PY{o}{=}\PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{scoring}\PY{o}{=}\PY{n}{scoring}\PY{p}{,} \PY{n}{cv}\PY{o}{=}\PY{n}{inner\PYZus{}cv}
                                \PY{p}{,} \PY{n}{error\PYZus{}score}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{refit}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mse}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{lin\PYZus{}reg\PYZus{}grid}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{poverty\PYZus{}X}\PY{p}{,} \PY{n}{poverty\PYZus{}y}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{train\PYZus{}scores} \PY{o}{=} \PY{n}{cross\PYZus{}validate}\PY{p}{(}\PY{n}{lin\PYZus{}reg\PYZus{}grid}\PY{p}{,} \PY{n}{poverty\PYZus{}X}\PY{p}{,} \PY{n}{poverty\PYZus{}y}\PY{p}{,} \PY{n}{cv}\PY{o}{=}\PY{n}{outer\PYZus{}cv}\PY{p}{,} \PY{n}{scoring}\PY{o}{=}\PY{n}{scoring}\PY{p}{,} \PY{n}{return\PYZus{}train\PYZus{}score}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
        \PY{n}{pprint}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{n}{train\PYZus{}scores}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{test\PYZus{}r2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}
        \PY{n}{pprint}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{n}{train\PYZus{}scores}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{test\PYZus{}mse}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \subsubsection{Feature Selection with Least Square Linear
Regression}\label{feature-selection-with-least-square-linear-regression}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{caching} \PY{o}{=} \PY{n}{mkdtemp}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{mse} \PY{o}{=} \PY{n}{make\PYZus{}scorer}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{,} \PY{n}{greater\PYZus{}is\PYZus{}better}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
        
        \PY{n}{rfecv} \PY{o}{=} \PY{n}{RFECV}\PY{p}{(}\PY{n}{estimator}\PY{o}{=}\PY{n}{LinearRegression}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{cv}\PY{o}{=}\PY{n}{inner\PYZus{}cv}\PY{p}{,} \PY{n}{scoring}\PY{o}{=}\PY{n}{mse}\PY{p}{)}
        
        \PY{n}{rfecv}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{poverty\PYZus{}X}\PY{p}{,} \PY{n}{poverty\PYZus{}y}\PY{p}{)}
        
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Optimal number of features : }\PY{l+s+si}{\PYZpc{}d}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{n}{rfecv}\PY{o}{.}\PY{n}{n\PYZus{}features\PYZus{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{train\PYZus{}scores} \PY{o}{=} \PY{n}{cross\PYZus{}validate}\PY{p}{(}\PY{n}{rfecv}\PY{p}{,} \PY{n}{poverty\PYZus{}X}\PY{p}{,} \PY{n}{poverty\PYZus{}y}\PY{p}{,} \PY{n}{cv}\PY{o}{=}\PY{n}{outer\PYZus{}cv}\PY{p}{,} \PY{n}{scoring}\PY{o}{=}\PY{n}{scoring}\PY{p}{,} \PY{n}{return\PYZus{}train\PYZus{}score}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
        \PY{n}{pprint}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{average}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{n}{train\PYZus{}scores}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{test\PYZus{}r2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n}{pprint}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{average}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{n}{train\PYZus{}scores}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{test\PYZus{}mse}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{p}{[}\PY{n}{ranking} \PY{k}{for} \PY{n}{ranking} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{rfecv}\PY{o}{.}\PY{n}{ranking\PYZus{}}\PY{p}{,} \PY{n}{poverty\PYZus{}X}\PY{o}{.}\PY{n}{columns}\PY{p}{)}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Number of features selected}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Cross validation score (nb of correct classifications)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{n+nb}{len}\PY{p}{(}\PY{n}{rfecv}\PY{o}{.}\PY{n}{grid\PYZus{}scores\PYZus{}}\PY{p}{)} \PY{o}{+} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{n}{rfecv}\PY{o}{.}\PY{n}{grid\PYZus{}scores\PYZus{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \subsubsection{AdaBoostRegressor}\label{adaboostregressor}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{cachedir} \PY{o}{=} \PY{n}{mkdtemp}\PY{p}{(}\PY{p}{)}
        \PY{n}{estimators} \PY{o}{=} \PY{p}{[}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reg\PYZus{}model}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{LinearRegression}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{]}
        \PY{n}{regr\PYZus{}pipe} \PY{o}{=} \PY{n}{Pipeline}\PY{p}{(}\PY{n}{estimators}\PY{p}{,} \PY{n}{memory}\PY{o}{=}\PY{n}{cachedir}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} adaReg = AdaBoostRegressor(DecisionTreeRegressor(max\PYZus{}depth=25, splitter=\PYZsq{}random\PYZsq{}, criterion=\PYZsq{}mse\PYZsq{}}
        \PY{c+c1}{\PYZsh{}                                                 , min\PYZus{}samples\PYZus{}split=0.015, min\PYZus{}samples\PYZus{}leaf=0.005}
        \PY{c+c1}{\PYZsh{}                                                  , min\PYZus{}impurity\PYZus{}decrease=0.2)}
        \PY{c+c1}{\PYZsh{}                            , n\PYZus{}estimators=600, loss=\PYZsq{}exponential\PYZsq{}, learning\PYZus{}rate=0.75, random\PYZus{}state=rng)}
        
        \PY{c+c1}{\PYZsh{} adaReg = AdaBoostRegressor(DecisionTreeRegressor(max\PYZus{}depth=17, splitter=\PYZsq{}random\PYZsq{}, criterion=\PYZsq{}mse\PYZsq{}}
        \PY{c+c1}{\PYZsh{}                                                 , min\PYZus{}samples\PYZus{}split=0.025, min\PYZus{}samples\PYZus{}leaf=0.01}
        \PY{c+c1}{\PYZsh{}                                                  , min\PYZus{}impurity\PYZus{}decrease=0.2, random\PYZus{}state=rng)}
        \PY{c+c1}{\PYZsh{}                            , n\PYZus{}estimators=600, loss=\PYZsq{}linear\PYZsq{}, learning\PYZus{}rate=0.75, random\PYZus{}state=rng)}
        
        \PY{c+c1}{\PYZsh{} adaReg = AdaBoostRegressor(DecisionTreeRegressor(max\PYZus{}depth=13, splitter=\PYZsq{}random\PYZsq{}, criterion=\PYZsq{}mse\PYZsq{}}
        \PY{c+c1}{\PYZsh{}                                                 , random\PYZus{}state=rng)}
        \PY{c+c1}{\PYZsh{}                            , n\PYZus{}estimators=600, loss=\PYZsq{}linear\PYZsq{}, learning\PYZus{}rate=1, random\PYZus{}state=rng)}
        
        \PY{c+c1}{\PYZsh{} adaReg = AdaBoostRegressor(DecisionTreeRegressor(max\PYZus{}depth=7\PYZhy{}11\PYZhy{}13, splitter=\PYZsq{}random\PYZsq{}, criterion=\PYZsq{}mse\PYZsq{}}
        \PY{c+c1}{\PYZsh{}                                                 , random\PYZus{}state=rng)}
        \PY{c+c1}{\PYZsh{}                            , n\PYZus{}estimators=600, loss=\PYZsq{}linear\PYZsq{}, learning\PYZus{}rate=1, random\PYZus{}state=rng)}
        
        \PY{n}{adaReg} \PY{o}{=} \PY{n}{AdaBoostRegressor}\PY{p}{(}\PY{n}{DecisionTreeRegressor}\PY{p}{(}\PY{n}{max\PYZus{}depth}\PY{o}{=}\PY{l+m+mi}{13}\PY{p}{,} \PY{n}{splitter}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{random}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{criterion}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mse}\PY{l+s+s1}{\PYZsq{}}
                                                        \PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{n}{rng}\PY{p}{)}
                                   \PY{p}{,} \PY{n}{n\PYZus{}estimators}\PY{o}{=}\PY{l+m+mi}{600}\PY{p}{,} \PY{n}{loss}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{learning\PYZus{}rate}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{n}{rng}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{param\PYZus{}grid} \PY{o}{=} \PY{n+nb}{dict}\PY{p}{(}\PY{n}{reg\PYZus{}model}\PY{o}{=}\PY{p}{[}\PY{n}{LinearRegression}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{adaReg}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{reg\PYZus{}grid} \PY{o}{=} \PY{n}{GridSearchCV}\PY{p}{(}\PY{n}{estimator}\PY{o}{=}\PY{n}{regr\PYZus{}pipe}\PY{p}{,} \PY{n}{param\PYZus{}grid}\PY{o}{=}\PY{n}{param\PYZus{}grid}\PY{p}{,} \PY{n}{scoring}\PY{o}{=}\PY{n}{scoring}\PY{p}{,} \PY{n}{cv}\PY{o}{=}\PY{n}{inner\PYZus{}cv}
                                \PY{p}{,} \PY{n}{error\PYZus{}score}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{refit}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mse}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{reg\PYZus{}pred} \PY{o}{=} \PY{n}{reg\PYZus{}grid}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{poverty\PYZus{}X}\PY{p}{,} \PY{n}{poverty\PYZus{}y}\PY{p}{)}
        \PY{n}{reg\PYZus{}pred}\PY{o}{.}\PY{n}{best\PYZus{}estimator\PYZus{}}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{train\PYZus{}scores} \PY{o}{=} \PY{n}{cross\PYZus{}validate}\PY{p}{(}\PY{n}{reg\PYZus{}grid}\PY{p}{,} \PY{n}{poverty\PYZus{}X}\PY{p}{,} \PY{n}{poverty\PYZus{}y}\PY{p}{,} \PY{n}{cv}\PY{o}{=}\PY{n}{outer\PYZus{}cv}\PY{p}{,} \PY{n}{scoring}\PY{o}{=}\PY{n}{scoring}\PY{p}{,} \PY{n}{return\PYZus{}train\PYZus{}score}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
        \PY{n}{pprint}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{average}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{n}{train\PYZus{}scores}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{test\PYZus{}r2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n}{pprint}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{average}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{n}{train\PYZus{}scores}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{test\PYZus{}mse}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    score1: 0.84164774625729666 and 2.632247532440791

    \subsubsection{Feature Selection}\label{feature-selection}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{mse} \PY{o}{=} \PY{n}{make\PYZus{}scorer}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{,} \PY{n}{greater\PYZus{}is\PYZus{}better}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
        
        \PY{n}{rfecv} \PY{o}{=} \PY{n}{RFECV}\PY{p}{(}\PY{n}{estimator}\PY{o}{=}\PY{n}{adaReg}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{cv}\PY{o}{=}\PY{n}{inner\PYZus{}cv}\PY{p}{,} \PY{n}{scoring}\PY{o}{=}\PY{n}{mse}\PY{p}{)}
        
        \PY{n}{rfecv}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{poverty\PYZus{}X}\PY{p}{,} \PY{n}{poverty\PYZus{}y}\PY{p}{)}
        
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Optimal number of features : }\PY{l+s+si}{\PYZpc{}d}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{n}{rfecv}\PY{o}{.}\PY{n}{n\PYZus{}features\PYZus{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{train\PYZus{}scores} \PY{o}{=} \PY{n}{cross\PYZus{}validate}\PY{p}{(}\PY{n}{rfecv}\PY{p}{,} \PY{n}{poverty\PYZus{}X}\PY{p}{,} \PY{n}{poverty\PYZus{}y}\PY{p}{,} \PY{n}{cv}\PY{o}{=}\PY{n}{outer\PYZus{}cv}\PY{p}{,} \PY{n}{scoring}\PY{o}{=}\PY{n}{scoring}\PY{p}{,} \PY{n}{return\PYZus{}train\PYZus{}score}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
        \PY{n}{pprint}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{average}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{n}{train\PYZus{}scores}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{test\PYZus{}r2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n}{pprint}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{average}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{n}{train\PYZus{}scores}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{test\PYZus{}mse}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    score1:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Number of features selected}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Cross validation score (nb of correct classifications)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{n+nb}{len}\PY{p}{(}\PY{n}{rfecv}\PY{o}{.}\PY{n}{grid\PYZus{}scores\PYZus{}}\PY{p}{)} \PY{o}{+} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{n}{rfecv}\PY{o}{.}\PY{n}{grid\PYZus{}scores\PYZus{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \subsection{TODO Analyze Residuals!!!}\label{todo-analyze-residuals}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{plt}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{reg\PYZus{}grid}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{poverty\PYZus{}X}\PY{p}{)}\PY{p}{,} \PY{n}{reg\PYZus{}grid}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{poverty\PYZus{}X}\PY{p}{)} \PY{o}{\PYZhy{}} \PY{n}{poverty\PYZus{}y}\PY{p}{,} \PY{n}{c}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{b}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{s}\PY{o}{=}\PY{l+m+mi}{40}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{residuals} \PY{o}{=} \PY{n}{reg\PYZus{}grid}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{poverty\PYZus{}X}\PY{p}{)} \PY{o}{\PYZhy{}} \PY{n}{poverty\PYZus{}y}
        \PY{n}{residuals} \PY{o}{=} \PY{n}{residuals}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{residuals}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{residuals}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}X\PYZus{}residuals} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{p}{[}\PY{n}{poverty\PYZus{}X}\PY{p}{,} \PY{n}{poverty}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}urban\PYZus{}influence}\PY{p}{,} \PY{n}{poverty}\PY{o}{.}\PY{n}{econ\PYZus{}\PYZus{}economic\PYZus{}typology}\PY{p}{,} \PY{n}{poverty}\PY{o}{.}\PY{n}{area\PYZus{}\PYZus{}rucc}\PY{p}{,} \PY{n}{poverty\PYZus{}y}\PY{p}{,} \PY{n}{residuals}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{poverty\PYZus{}X\PYZus{}high\PYZus{}res} \PY{o}{=} \PY{n}{poverty\PYZus{}X\PYZus{}residuals}\PY{p}{[}\PY{p}{(}\PY{n}{poverty\PYZus{}X\PYZus{}residuals}\PY{o}{.}\PY{n}{residuals} \PY{o}{\PYZgt{}} \PY{l+m+mi}{7}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{poverty\PYZus{}X\PYZus{}residuals}\PY{o}{.}\PY{n}{residuals} \PY{o}{\PYZlt{}} \PY{o}{\PYZhy{}}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{]}
        \PY{n}{poverty\PYZus{}X\PYZus{}high\PYZus{}res}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}X\PYZus{}high\PYZus{}res}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}X\PYZus{}high\PYZus{}res}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{residuals}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{area\PYZus{}\PYZus{}urban\PYZus{}influence}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}X\PYZus{}high\PYZus{}res}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{residuals}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{econ\PYZus{}\PYZus{}economic\PYZus{}typology}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}X\PYZus{}high\PYZus{}res}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{residuals}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{area\PYZus{}\PYZus{}rucc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{vert}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{scatter\PYZus{}high\PYZus{}res\PYZus{}pos} \PY{o}{=} \PY{n}{scatter\PYZus{}matrix}\PY{p}{(}\PY{n}{poverty\PYZus{}X\PYZus{}high\PYZus{}res}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}adults\PYZus{}less\PYZus{}than\PYZus{}a\PYZus{}high\PYZus{}school\PYZus{}diploma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}homicides\PYZus{}per\PYZus{}100k}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{econ\PYZus{}\PYZus{}pct\PYZus{}unemployment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pct\PYZus{}low\PYZus{}birthweight}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{econ\PYZus{}\PYZus{}pct\PYZus{}uninsured\PYZus{}adults}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pct\PYZus{}diabetes}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}african\PYZus{}american}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{27}\PY{p}{,} \PY{l+m+mi}{27}\PY{p}{)}\PY{p}{,} \PY{n}{diagonal}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{scatter\PYZus{}high\PYZus{}res\PYZus{}\PYZus{}neg} \PY{o}{=} \PY{n}{scatter\PYZus{}matrix}\PY{p}{(}\PY{n}{poverty\PYZus{}X\PYZus{}high\PYZus{}res}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{econ\PYZus{}\PYZus{}pct\PYZus{}civilian\PYZus{}labor}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}non\PYZus{}hispanic\PYZus{}white}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}adults\PYZus{}bachelors\PYZus{}or\PYZus{}higher}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{demo\PYZus{}\PYZus{}pct\PYZus{}adults\PYZus{}with\PYZus{}some\PYZus{}college}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{health\PYZus{}\PYZus{}pct\PYZus{}excessive\PYZus{}drinking}\PY{l+s+s1}{\PYZsq{}}
                                                      \PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{27}\PY{p}{,} \PY{l+m+mi}{27}\PY{p}{)}\PY{p}{,} \PY{n}{diagonal}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \subsection{Evaluation}\label{evaluation}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{./Microsoft\PYZus{}\PYZhy{}\PYZus{}DAT102x\PYZus{}Predicting\PYZus{}Poverty\PYZus{}in\PYZus{}the\PYZus{}United\PYZus{}States\PYZus{}\PYZhy{}\PYZus{}Test\PYZus{}values.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}test}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{}Create Features}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}rucc}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}young\PYZus{}age\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}young\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}old\PYZus{}age\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}old\PYZus{}age\PYZus{}rucc\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}birthrate\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}deathrate\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}asian\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}african\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}white\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}native\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}hispanic\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}h\PYZus{}dentist\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}h\PYZus{}physician\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}air\PYZus{}poll\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{create\PYZus{}child\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}Convert to correct type}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{convert\PYZus{}to\PYZus{}cat}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}Drop Features}
        \PY{n}{poverty\PYZus{}row\PYZus{}id} \PY{o}{=} \PY{n}{poverty\PYZus{}test}\PY{o}{.}\PY{n}{row\PYZus{}id}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{drop\PYZus{}features}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test} \PY{o}{=} \PY{n}{poverty\PYZus{}test}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{row\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}Replace NANs}
        \PY{n}{poverty\PYZus{}test\PYZus{}clean} \PY{o}{=} \PY{n}{poverty\PYZus{}test}\PY{o}{.}\PY{n}{fillna}\PY{p}{(}\PY{n}{poverty\PYZus{}test}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{p}{)}
        \PY{n}{poverty\PYZus{}test\PYZus{}clean} \PY{o}{=} \PY{n}{cat\PYZus{}to\PYZus{}dummies}\PY{p}{(}\PY{n}{poverty\PYZus{}test\PYZus{}clean}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}Scale Features}
        \PY{n}{poverty\PYZus{}test\PYZus{}clean} \PY{o}{=} \PY{n}{scale\PYZus{}features}\PY{p}{(}\PY{n}{poverty\PYZus{}test\PYZus{}clean}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}test\PYZus{}clean}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{}Classify}
        \PY{c+c1}{\PYZsh{} pt\PYZus{}labels = pd.DataFrame(clf\PYZus{}grid.predict(poverty\PYZus{}test\PYZus{}clean), columns=[\PYZsq{}clusters\PYZsq{}])}
        \PY{c+c1}{\PYZsh{} poverty\PYZus{}test\PYZus{}clean = pd.concat([poverty\PYZus{}test\PYZus{}clean, pt\PYZus{}labels], axis=1)}
        \PY{c+c1}{\PYZsh{} poverty\PYZus{}test\PYZus{}clean.head()}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{}Create Prediction}
        \PY{n}{submission} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{reg\PYZus{}grid}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{poverty\PYZus{}test\PYZus{}clean}\PY{p}{)}\PY{p}{)}
        \PY{n}{submission} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{clip}\PY{p}{(}\PY{n}{submission}\PY{p}{,}\PY{l+m+mf}{0.00}\PY{p}{,}\PY{l+m+mf}{100.00}\PY{p}{)}
        \PY{n}{submission}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}submission} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{p}{[}\PY{n}{poverty\PYZus{}row\PYZus{}id}\PY{p}{,} \PY{n}{submission}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{poverty\PYZus{}submission} \PY{o}{=} \PY{n}{poverty\PYZus{}submission}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{index}\PY{o}{=}\PY{n+nb}{str}\PY{p}{,} \PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+m+mi}{0}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{)}
        \PY{n}{poverty\PYZus{}submission} \PY{o}{=} \PY{n}{poverty\PYZus{}submission}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poverty\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+m+mi}{2}\PY{p}{\PYZcb{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}submission}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}submission}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{poverty\PYZus{}submission}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{n}{path\PYZus{}or\PYZus{}buf}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{./MV\PYZus{}Poverty\PYZus{}Submission\PYZus{}AdaReg.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{index}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} set(poverty\PYZus{}X.columns) \PYZhy{} set(poverty\PYZus{}test\PYZus{}clean.columns)}
\end{Verbatim}



    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
